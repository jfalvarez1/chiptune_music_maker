<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChiptuneTracker - Complete Music Making Guide</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --neon-pink: #ff00ff;
            --neon-cyan: #00ffff;
            --neon-green: #00ff00;
            --matrix-green: #00ff41;
            --dark-bg: #0a0a0a;
            --grid-color: rgba(0, 255, 65, 0.1);
        }

        body {
            background: var(--dark-bg);
            color: var(--matrix-green);
            font-family: 'Share Tech Mono', monospace;
            line-height: 1.8;
            overflow-x: hidden;
            position: relative;
        }

        #matrix-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            opacity: 0.15;
        }

        #sine-canvas {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 200px;
            z-index: -1;
            opacity: 0.3;
        }

        .retro-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                linear-gradient(transparent 0%, rgba(0, 255, 65, 0.03) 50%, transparent 100%),
                repeating-linear-gradient(0deg, transparent, transparent 50px, var(--grid-color) 50px, var(--grid-color) 51px),
                repeating-linear-gradient(90deg, transparent, transparent 50px, var(--grid-color) 50px, var(--grid-color) 51px);
            z-index: -3;
            perspective: 500px;
            transform: rotateX(60deg) translateY(-50%);
            transform-origin: center bottom;
        }

        .led-chaser {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            display: flex;
            z-index: 100;
        }

        .led {
            flex: 1;
            height: 100%;
            background: var(--matrix-green);
            opacity: 0.1;
            animation: ledChase 2s ease-in-out infinite;
        }

        @keyframes ledChase {
            0%, 100% { opacity: 0.1; box-shadow: none; }
            50% { opacity: 1; box-shadow: 0 0 20px var(--neon-cyan), 0 0 40px var(--neon-pink); }
        }

        .led:nth-child(1) { animation-delay: 0s; }
        .led:nth-child(2) { animation-delay: 0.05s; }
        .led:nth-child(3) { animation-delay: 0.1s; }
        .led:nth-child(4) { animation-delay: 0.15s; }
        .led:nth-child(5) { animation-delay: 0.2s; }
        .led:nth-child(6) { animation-delay: 0.25s; }
        .led:nth-child(7) { animation-delay: 0.3s; }
        .led:nth-child(8) { animation-delay: 0.35s; }
        .led:nth-child(9) { animation-delay: 0.4s; }
        .led:nth-child(10) { animation-delay: 0.45s; }
        .led:nth-child(11) { animation-delay: 0.5s; }
        .led:nth-child(12) { animation-delay: 0.55s; }
        .led:nth-child(13) { animation-delay: 0.6s; }
        .led:nth-child(14) { animation-delay: 0.65s; }
        .led:nth-child(15) { animation-delay: 0.7s; }
        .led:nth-child(16) { animation-delay: 0.75s; }
        .led:nth-child(17) { animation-delay: 0.8s; }
        .led:nth-child(18) { animation-delay: 0.85s; }
        .led:nth-child(19) { animation-delay: 0.9s; }
        .led:nth-child(20) { animation-delay: 0.95s; }

        .led-chaser-bottom {
            position: fixed;
            bottom: 0;
            top: auto;
        }

        .led-chaser-bottom .led {
            animation-direction: reverse;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            padding: 60px 0;
            position: relative;
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-pink), var(--neon-cyan));
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease infinite;
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            margin-bottom: 20px;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--neon-pink);
            text-transform: uppercase;
            letter-spacing: 8px;
            animation: flicker 4s infinite;
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            92% { opacity: 1; }
            93% { opacity: 0.8; }
            94% { opacity: 1; }
            95% { opacity: 0.9; }
            96% { opacity: 1; }
        }

        section {
            background: rgba(0, 20, 0, 0.8);
            border: 1px solid var(--matrix-green);
            border-radius: 10px;
            padding: 40px;
            margin: 40px 0;
            position: relative;
            overflow: hidden;
        }

        section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--neon-cyan), transparent);
            animation: scanline 3s linear infinite;
        }

        @keyframes scanline {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            color: var(--neon-cyan);
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--neon-pink);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        h2::before {
            content: '>';
            color: var(--neon-pink);
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        h3 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.4rem;
            color: var(--neon-pink);
            margin: 30px 0 15px 0;
            padding-left: 20px;
            border-left: 3px solid var(--neon-cyan);
        }

        h4 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            color: var(--neon-cyan);
            margin: 20px 0 10px 0;
        }

        p {
            margin: 15px 0;
            text-align: justify;
        }

        pre {
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid var(--matrix-green);
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
            position: relative;
        }

        pre::before {
            content: 'CODE';
            position: absolute;
            top: -10px;
            left: 20px;
            background: var(--dark-bg);
            padding: 0 10px;
            color: var(--neon-cyan);
            font-size: 0.8rem;
            letter-spacing: 2px;
        }

        code {
            font-family: 'Share Tech Mono', monospace;
            color: var(--neon-green);
            font-size: 0.95rem;
        }

        .keyword { color: var(--neon-pink); }
        .function { color: var(--neon-cyan); }
        .number { color: #ffff00; }
        .comment { color: #666; font-style: italic; }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border: 1px solid var(--matrix-green);
        }

        th {
            background: rgba(0, 255, 255, 0.1);
            color: var(--neon-cyan);
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        tr:hover {
            background: rgba(255, 0, 255, 0.05);
        }

        ul, ol {
            margin: 15px 0 15px 30px;
        }

        li {
            margin: 10px 0;
            position: relative;
        }

        ul li::marker {
            color: var(--neon-pink);
        }

        .waveform-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .waveform-box {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid var(--neon-cyan);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .waveform-box:hover {
            border-color: var(--neon-pink);
            box-shadow: 0 0 30px rgba(255, 0, 255, 0.3);
            transform: translateY(-5px);
        }

        .waveform-box canvas {
            width: 100%;
            height: 80px;
            margin-bottom: 10px;
        }

        .waveform-box h4 {
            color: var(--neon-cyan);
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 10px;
        }

        .param-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .param-card {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1));
            border: 1px solid var(--matrix-green);
            border-radius: 10px;
            padding: 25px;
            position: relative;
            overflow: hidden;
        }

        .param-card::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.03) 50%, transparent 60%);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) rotate(45deg); }
            100% { transform: translateX(100%) rotate(45deg); }
        }

        .param-card h4 {
            color: var(--neon-pink);
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .param-card .range {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed var(--matrix-green);
            font-size: 0.9rem;
        }

        .param-card .range span:first-child { color: var(--neon-cyan); }
        .param-card .range span:last-child { color: var(--neon-pink); }

        .tip-box {
            background: linear-gradient(90deg, rgba(255, 0, 255, 0.1), transparent);
            border-left: 4px solid var(--neon-pink);
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .tip-box::before {
            content: 'TIP';
            display: block;
            color: var(--neon-pink);
            font-family: 'Orbitron', sans-serif;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .warning-box {
            background: linear-gradient(90deg, rgba(255, 255, 0, 0.1), transparent);
            border-left: 4px solid #ffff00;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .warning-box::before {
            content: 'NOTE';
            display: block;
            color: #ffff00;
            font-family: 'Orbitron', sans-serif;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .info-box {
            background: linear-gradient(90deg, rgba(0, 255, 255, 0.1), transparent);
            border-left: 4px solid var(--neon-cyan);
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .info-box::before {
            content: 'INFO';
            display: block;
            color: var(--neon-cyan);
            font-family: 'Orbitron', sans-serif;
            font-weight: bold;
            margin-bottom: 10px;
        }

        /* ADSR Diagram */
        .adsr-diagram {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid var(--neon-cyan);
            border-radius: 10px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }

        .adsr-diagram canvas {
            width: 100%;
            max-width: 600px;
            height: 200px;
        }

        .adsr-labels {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .adsr-label {
            text-align: center;
            padding: 10px;
        }

        .adsr-label .letter {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            font-weight: bold;
        }

        .adsr-label.attack .letter { color: #ff6b6b; }
        .adsr-label.decay .letter { color: #ffd93d; }
        .adsr-label.sustain .letter { color: #6bcb77; }
        .adsr-label.release .letter { color: #4d96ff; }

        nav {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
        }

        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        nav li {
            margin: 15px 0;
        }

        nav a {
            display: block;
            width: 12px;
            height: 12px;
            background: var(--matrix-green);
            border-radius: 50%;
            transition: all 0.3s ease;
            position: relative;
        }

        nav a:hover {
            background: var(--neon-pink);
            box-shadow: 0 0 20px var(--neon-pink);
            transform: scale(1.5);
        }

        nav a::after {
            content: attr(data-section);
            position: absolute;
            right: 25px;
            top: 50%;
            transform: translateY(-50%);
            white-space: nowrap;
            color: var(--neon-cyan);
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            background: rgba(0, 0, 0, 0.8);
            padding: 5px 10px;
            border-radius: 5px;
        }

        nav a:hover::after {
            opacity: 1;
        }

        footer {
            text-align: center;
            padding: 40px;
            border-top: 1px solid var(--matrix-green);
            margin-top: 60px;
        }

        footer p {
            color: var(--neon-cyan);
            font-size: 0.9rem;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--dark-bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--matrix-green);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--neon-cyan);
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            nav { display: none; }
            section { padding: 20px; }
        }

        .glitch {
            position: relative;
        }

        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .glitch::before {
            animation: glitch-1 2s infinite linear alternate-reverse;
            color: var(--neon-cyan);
            z-index: -1;
        }

        .glitch::after {
            animation: glitch-2 3s infinite linear alternate-reverse;
            color: var(--neon-pink);
            z-index: -2;
        }

        @keyframes glitch-1 {
            0%, 100% { clip-path: inset(0 0 95% 0); transform: translate(-2px, 2px); }
            20% { clip-path: inset(30% 0 40% 0); transform: translate(2px, -2px); }
            40% { clip-path: inset(70% 0 10% 0); transform: translate(-2px, 2px); }
            60% { clip-path: inset(10% 0 60% 0); transform: translate(2px, -2px); }
            80% { clip-path: inset(50% 0 30% 0); transform: translate(-2px, 2px); }
        }

        @keyframes glitch-2 {
            0%, 100% { clip-path: inset(95% 0 0 0); transform: translate(2px, -2px); }
            20% { clip-path: inset(40% 0 30% 0); transform: translate(-2px, 2px); }
            40% { clip-path: inset(10% 0 70% 0); transform: translate(2px, -2px); }
            60% { clip-path: inset(60% 0 10% 0); transform: translate(-2px, 2px); }
            80% { clip-path: inset(30% 0 50% 0); transform: translate(2px, -2px); }
        }

        .keyboard-shortcut {
            display: inline-block;
            background: rgba(0, 255, 255, 0.2);
            border: 1px solid var(--neon-cyan);
            border-radius: 4px;
            padding: 2px 8px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.9em;
        }

        /* Table of Contents Styles */
        .toc-section {
            background: rgba(0, 20, 0, 0.9);
            border: 2px solid var(--neon-cyan);
            border-radius: 15px;
            padding: 30px 40px;
            margin: 20px 0 40px 0;
            position: relative;
        }

        .toc-section::before {
            content: 'NAVIGATION';
            position: absolute;
            top: -12px;
            left: 30px;
            background: var(--dark-bg);
            padding: 0 15px;
            color: var(--neon-pink);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            letter-spacing: 3px;
        }

        .toc-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            color: var(--neon-cyan);
            margin-bottom: 25px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 4px;
        }

        .toc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px 20px;
        }

        .toc-grid a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 15px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid transparent;
            border-radius: 8px;
            text-decoration: none;
            color: var(--matrix-green);
            font-size: 0.95rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .toc-grid a::before {
            content: '>';
            color: var(--neon-pink);
            font-weight: bold;
            transition: transform 0.3s ease;
        }

        .toc-grid a:hover {
            background: rgba(0, 255, 255, 0.1);
            border-color: var(--neon-cyan);
            color: var(--neon-cyan);
            transform: translateX(5px);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }

        .toc-grid a:hover::before {
            transform: translateX(3px);
            color: var(--neon-cyan);
        }

        .toc-grid a .toc-number {
            background: var(--neon-pink);
            color: var(--dark-bg);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.7rem;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 4px;
            min-width: 24px;
            text-align: center;
        }

        .toc-grid a:hover .toc-number {
            background: var(--neon-cyan);
        }
    </style>
</head>
<body>
    <canvas id="matrix-canvas"></canvas>
    <canvas id="sine-canvas"></canvas>
    <div class="retro-grid"></div>

    <div class="led-chaser">
        <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
        <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
        <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
        <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
        <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
    </div>
    <div class="led-chaser led-chaser-bottom">
        <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
        <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
        <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
        <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
        <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
    </div>

    <nav>
        <ul>
            <li><a href="#intro" data-section="Introduction"></a></li>
            <li><a href="#basics" data-section="Music Basics"></a></li>
            <li><a href="#interface" data-section="Interface"></a></li>
            <li><a href="#adsr" data-section="ADSR Envelope"></a></li>
            <li><a href="#oscillators" data-section="Oscillators"></a></li>
            <li><a href="#synths" data-section="Synths"></a></li>
            <li><a href="#chords" data-section="Chords"></a></li>
            <li><a href="#drums" data-section="Drums"></a></li>
            <li><a href="#themes" data-section="Themes"></a></li>
            <li><a href="#files" data-section="Files"></a></li>
            <li><a href="#views" data-section="Views"></a></li>
            <li><a href="#padcontroller" data-section="Pad Controller"></a></li>
            <li><a href="#workflow" data-section="Workflow"></a></li>
            <li><a href="#synthwave" data-section="Synthwave Guide"></a></li>
            <li><a href="#shortcuts" data-section="Shortcuts"></a></li>
            <li><a href="#advanced" data-section="Advanced"></a></li>
            <li><a href="#chiptune-guide" data-section="Chiptune Guide"></a></li>
            <li><a href="#tools" data-section="Tools Panel"></a></li>
            <li><a href="#production-fundamentals" data-section="Production Guide"></a></li>
        </ul>
    </nav>

    <div class="container">
        <header>
            <h1 class="glitch" data-text="CHIPTUNE TRACKER">CHIPTUNE TRACKER</h1>
            <p class="subtitle">Complete Music Making Guide</p>
        </header>

        <!-- Table of Contents -->
        <div class="toc-section">
            <div class="toc-title">Table of Contents</div>
            <div class="toc-grid">
                <a href="#intro"><span class="toc-number">01</span> Introduction</a>
                <a href="#basics"><span class="toc-number">02</span> Music Basics</a>
                <a href="#interface"><span class="toc-number">03</span> Interface Overview</a>
                <a href="#adsr"><span class="toc-number">04</span> ADSR Envelope</a>
                <a href="#oscillators"><span class="toc-number">05</span> Oscillators</a>
                <a href="#synths"><span class="toc-number">06</span> Synth Presets</a>
                <a href="#chords"><span class="toc-number">07</span> Chord Presets</a>
                <a href="#drums"><span class="toc-number">08</span> Drum Kit</a>
                <a href="#themes"><span class="toc-number">09</span> Visual Themes</a>
                <a href="#files"><span class="toc-number">10</span> File Operations</a>
                <a href="#views"><span class="toc-number">11</span> Views & Editors</a>
                <a href="#padcontroller"><span class="toc-number">12</span> Pad Controller</a>
                <a href="#workflow"><span class="toc-number">13</span> Workflow Guide</a>
                <a href="#synthwave"><span class="toc-number">14</span> Synthwave Guide</a>
                <a href="#shortcuts"><span class="toc-number">15</span> Keyboard Shortcuts</a>
                <a href="#advanced"><span class="toc-number">16</span> Advanced Features</a>
                <a href="#chiptune-guide"><span class="toc-number">17</span> Chiptune Guide</a>
                <a href="#tools"><span class="toc-number">18</span> Tools Panel</a>
                <a href="#production-fundamentals"><span class="toc-number">19</span> Production Fundamentals</a>
            </div>
        </div>

        <!-- Introduction -->
        <section id="intro">
            <h2>Welcome to ChiptuneTracker</h2>
            <p>ChiptuneTracker is a digital audio workstation (DAW) designed to create authentic 8-bit
            chiptune music, inspired by the sound chips of classic gaming consoles like the NES, Game Boy,
            and Commodore 64. Whether you're a complete beginner or an experienced musician, this guide
            will teach you everything you need to create amazing retro music.</p>

            <div class="info-box">
                <strong>What is Chiptune?</strong><br>
                Chiptune (also known as 8-bit music) is a style of electronic music made using the sound
                chips from vintage computers and gaming consoles. These chips could only produce simple
                waveforms, but creative musicians turned these limitations into a distinctive musical style
                that's still popular today!
            </div>

            <h3>What You'll Learn</h3>
            <ul>
                <li>Basic music concepts (notes, rhythm, tempo)</li>
                <li>Understanding sound synthesis (oscillators, envelopes)</li>
                <li>How to use the ADSR envelope to shape sounds</li>
                <li>Creating melodies and beats</li>
                <li>Keyboard shortcuts for efficient workflow</li>
            </ul>
        </section>

        <!-- Music Basics -->
        <section id="basics">
            <h2>Music Making Basics</h2>

            <h3>Understanding Notes</h3>
            <p>Music is made up of <strong>notes</strong> - sounds of specific pitches. In Western music,
            we use 12 different notes that repeat in patterns called <strong>octaves</strong>:</p>

            <div class="info-box">
                <strong>The 12 Notes:</strong> C, C#, D, D#, E, F, F#, G, G#, A, A#, B<br><br>
                After B, the pattern repeats starting with C again, but at a higher pitch. This is called
                moving up an octave. The note "C4" means C in the 4th octave (middle C on a piano).
            </div>

            <h3>The Piano Roll</h3>
            <p>The Piano Roll is where you create music visually. It shows:</p>
            <ul>
                <li><strong>Vertical axis (up/down):</strong> Pitch - higher notes are at the top</li>
                <li><strong>Horizontal axis (left/right):</strong> Time - music flows left to right</li>
                <li><strong>Note blocks:</strong> Each rectangle represents a note being played</li>
            </ul>

            <h3>Rhythm and Tempo</h3>
            <p>Music has a <strong>tempo</strong> measured in BPM (Beats Per Minute). A higher BPM means
            faster music:</p>
            <table>
                <tr>
                    <th>BPM Range</th>
                    <th>Feel</th>
                    <th>Genre Examples</th>
                </tr>
                <tr>
                    <td>60-80</td>
                    <td>Slow, relaxed</td>
                    <td>Ballads, ambient</td>
                </tr>
                <tr>
                    <td>90-120</td>
                    <td>Moderate, walking pace</td>
                    <td>Pop, rock</td>
                </tr>
                <tr>
                    <td>120-140</td>
                    <td>Energetic</td>
                    <td>Dance, chiptune</td>
                </tr>
                <tr>
                    <td>140-180</td>
                    <td>Fast, intense</td>
                    <td>Drum & bass, speedcore</td>
                </tr>
            </table>

            <h3>Building Blocks of a Song</h3>
            <div class="param-grid">
                <div class="param-card">
                    <h4>Melody</h4>
                    <p>The main tune you hum or whistle. Usually played with lead sounds like pulse or
                    sawtooth waves.</p>
                </div>
                <div class="param-card">
                    <h4>Bass</h4>
                    <p>Low notes that provide foundation. Triangle waves are perfect for smooth bass lines.</p>
                </div>
                <div class="param-card">
                    <h4>Harmony</h4>
                    <p>Supporting notes that accompany the melody. Creates fuller, richer sound.</p>
                </div>
                <div class="param-card">
                    <h4>Rhythm/Drums</h4>
                    <p>Percussion that drives the beat. Kick on beats 1 and 3, snare on 2 and 4 is classic.</p>
                </div>
            </div>
        </section>

        <!-- Interface Overview -->
        <section id="interface">
            <h2>Interface Overview</h2>

            <h3>Transport Bar</h3>
            <p>The Transport Bar controls playback:</p>
            <table>
                <tr>
                    <th>Control</th>
                    <th>What It Does</th>
                </tr>
                <tr>
                    <td><strong>PLAY / PAUSE</strong></td>
                    <td>Start or pause your music</td>
                </tr>
                <tr>
                    <td><strong>STOP</strong></td>
                    <td>Stop and return to the beginning</td>
                </tr>
                <tr>
                    <td><strong>Loop</strong></td>
                    <td>When checked, music repeats when it reaches the end</td>
                </tr>
                <tr>
                    <td><strong>BPM</strong></td>
                    <td>Speed of your music (Beats Per Minute)</td>
                </tr>
                <tr>
                    <td><strong>Master Volume</strong></td>
                    <td>Overall loudness of everything</td>
                </tr>
            </table>

            <h3>Piano Roll Modes</h3>
            <p>The Piano Roll has three editing modes:</p>
            <div class="param-grid">
                <div class="param-card">
                    <h4>DRAW Mode (Default)</h4>
                    <p>Click anywhere to place notes. This is automatically activated when you select a
                    sound from the palette. Press <span class="keyboard-shortcut">D</span> to activate.</p>
                </div>
                <div class="param-card">
                    <h4>SELECT Mode</h4>
                    <p>Click notes to select them. Drag to move notes. Drag the right edge to resize.
                    Click empty space to box-select multiple notes. Press <span class="keyboard-shortcut">S</span> to activate.</p>
                </div>
                <div class="param-card">
                    <h4>ERASE Mode</h4>
                    <p>Click on notes to delete them instantly. Press <span class="keyboard-shortcut">E</span> to activate.</p>
                </div>
            </div>

            <h3>Sound Palette</h3>
            <p>The Sound Palette shows all available sounds. Click any sound to select it - the piano roll
            will automatically switch to Draw mode so you can start placing notes immediately.</p>

            <div class="tip-box">
                Each note remembers which sound it uses! You can have different sounds playing
                simultaneously - mix pulse wave melodies with drum beats in the same pattern.
            </div>

            <h3>Sound Preview</h3>
            <p>When you place a note on the piano roll, you'll hear a brief <strong>preview</strong> of how
            it sounds. This helps you:</p>
            <ul>
                <li>Verify you've selected the right instrument</li>
                <li>Check the pitch is correct</li>
                <li>Hear drums at the correct duration for your BPM</li>
            </ul>

            <h3>Zoom Controls</h3>
            <p>The piano roll includes zoom controls for detailed editing:</p>
            <table>
                <tr>
                    <th>Control</th>
                    <th>What It Does</th>
                </tr>
                <tr>
                    <td><strong>X Zoom Slider</strong></td>
                    <td>Zoom horizontally (time axis) - 0.25x to 4x</td>
                </tr>
                <tr>
                    <td><strong>Y Zoom Slider</strong></td>
                    <td>Zoom vertically (pitch axis) - 0.5x to 3x</td>
                </tr>
                <tr>
                    <td><strong>Reset Button</strong></td>
                    <td>Return both zoom levels to 1x</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Ctrl+Shift+Wheel</span></td>
                    <td>Quick vertical zoom with mouse wheel</td>
                </tr>
            </table>

            <div class="tip-box">
                <strong>Tip:</strong> Zoom in when placing precise notes, zoom out to see the full pattern
                structure. The zoom controls are in the piano roll toolbar next to the edit mode buttons.
            </div>
        </section>

        <!-- ADSR Envelope -->
        <section id="adsr">
            <h2>Understanding ADSR Envelopes</h2>

            <p>The <strong>ADSR Envelope</strong> is one of the most important concepts in sound synthesis.
            It controls how a sound's volume changes over time - from when you press a key to when you
            release it.</p>

            <div class="adsr-diagram">
                <canvas id="adsr-canvas"></canvas>
                <div class="adsr-labels">
                    <div class="adsr-label attack">
                        <div class="letter">A</div>
                        <div>Attack</div>
                    </div>
                    <div class="adsr-label decay">
                        <div class="letter">D</div>
                        <div>Decay</div>
                    </div>
                    <div class="adsr-label sustain">
                        <div class="letter">S</div>
                        <div>Sustain</div>
                    </div>
                    <div class="adsr-label release">
                        <div class="letter">R</div>
                        <div>Release</div>
                    </div>
                </div>
            </div>

            <h3>The Four Stages Explained</h3>

            <div class="param-grid">
                <div class="param-card">
                    <h4>A - Attack</h4>
                    <p><strong>What:</strong> How quickly the sound reaches full volume after you press a key.</p>
                    <p><strong>Short Attack (0.01s):</strong> Instant, punchy - good for drums, plucks, staccato notes</p>
                    <p><strong>Long Attack (0.5s+):</strong> Gradual fade in - good for pads, strings, swelling sounds</p>
                    <div class="range">
                        <span>Fast: Punchy</span>
                        <span>Slow: Smooth</span>
                    </div>
                </div>
                <div class="param-card">
                    <h4>D - Decay</h4>
                    <p><strong>What:</strong> How quickly the sound drops from peak volume to the sustain level.</p>
                    <p><strong>Short Decay:</strong> Quick drop - percussive, plucky sounds</p>
                    <p><strong>Long Decay:</strong> Gradual drop - piano-like, natural sounds</p>
                    <div class="range">
                        <span>Fast: Plucky</span>
                        <span>Slow: Natural</span>
                    </div>
                </div>
                <div class="param-card">
                    <h4>S - Sustain</h4>
                    <p><strong>What:</strong> The volume level held while you keep the key pressed. This is a
                    <em>level</em>, not a time!</p>
                    <p><strong>High Sustain (0.8-1.0):</strong> Sound stays loud - organs, pads</p>
                    <p><strong>Low Sustain (0.0-0.3):</strong> Sound fades away - plucks, bells</p>
                    <div class="range">
                        <span>0.0: Silent</span>
                        <span>1.0: Full</span>
                    </div>
                </div>
                <div class="param-card">
                    <h4>R - Release</h4>
                    <p><strong>What:</strong> How quickly the sound fades out after you release the key.</p>
                    <p><strong>Short Release:</strong> Abrupt stop - staccato, tight</p>
                    <p><strong>Long Release:</strong> Gradual fade - reverb-like tail, smooth</p>
                    <div class="range">
                        <span>Fast: Tight</span>
                        <span>Slow: Smooth</span>
                    </div>
                </div>
            </div>

            <h3>Common ADSR Presets</h3>
            <table>
                <tr>
                    <th>Sound Type</th>
                    <th>Attack</th>
                    <th>Decay</th>
                    <th>Sustain</th>
                    <th>Release</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>Organ</td>
                    <td>0.001</td>
                    <td>0.01</td>
                    <td>1.0</td>
                    <td>0.05</td>
                    <td>Instant on, stays full, quick off</td>
                </tr>
                <tr>
                    <td>Piano</td>
                    <td>0.01</td>
                    <td>0.3</td>
                    <td>0.4</td>
                    <td>0.3</td>
                    <td>Quick attack, natural decay</td>
                </tr>
                <tr>
                    <td>Pluck</td>
                    <td>0.001</td>
                    <td>0.1</td>
                    <td>0.0</td>
                    <td>0.1</td>
                    <td>Sharp attack, quick fade to silence</td>
                </tr>
                <tr>
                    <td>Pad</td>
                    <td>0.5</td>
                    <td>0.3</td>
                    <td>0.8</td>
                    <td>1.0</td>
                    <td>Slow swell, stays full, long tail</td>
                </tr>
                <tr>
                    <td>Bass</td>
                    <td>0.01</td>
                    <td>0.2</td>
                    <td>0.6</td>
                    <td>0.15</td>
                    <td>Punchy attack, moderate sustain</td>
                </tr>
                <tr>
                    <td>Staccato Lead</td>
                    <td>0.001</td>
                    <td>0.05</td>
                    <td>0.3</td>
                    <td>0.05</td>
                    <td>Very short, choppy notes</td>
                </tr>
            </table>

            <div class="warning-box">
                <strong>Drums Are Different!</strong><br>
                Drum sounds (Kick, Snare, HiHat, Tom) use their own built-in envelopes and ignore the
                channel's ADSR settings. This is because drums need very specific envelope shapes to
                sound right - a kick drum's pitch needs to drop rapidly, which requires special handling.
            </div>
        </section>

        <!-- Oscillators -->
        <section id="oscillators">
            <h2>Oscillator Types (Sound Sources)</h2>

            <p>An <strong>oscillator</strong> is what generates the actual sound wave. Different wave shapes
            produce different timbres (tone colors). ChiptuneTracker offers 7 oscillator types:</p>

            <div class="waveform-container">
                <div class="waveform-box">
                    <canvas id="wave-pulse"></canvas>
                    <h4>PULSE (Square)</h4>
                    <p>The classic chiptune sound! Bright and buzzy. The "pulse width" changes its character
                    from thin and reedy (12.5%) to full and rich (50%).</p>
                </div>
                <div class="waveform-box">
                    <canvas id="wave-triangle"></canvas>
                    <h4>TRIANGLE</h4>
                    <p>Smooth and mellow with few harmonics. Perfect for bass lines and soft melodies.
                    The NES used this for bass!</p>
                </div>
                <div class="waveform-box">
                    <canvas id="wave-sawtooth"></canvas>
                    <h4>SAWTOOTH</h4>
                    <p>Very bright and buzzy, rich in harmonics. Great for aggressive leads and brass-like
                    sounds. Can be harsh at high volumes.</p>
                </div>
                <div class="waveform-box">
                    <canvas id="wave-sine"></canvas>
                    <h4>SINE</h4>
                    <p>Pure tone with no harmonics. Very smooth and clean. Good for sub-bass, whistles,
                    and electronic beeps.</p>
                </div>
                <div class="waveform-box">
                    <canvas id="wave-noise"></canvas>
                    <h4>NOISE</h4>
                    <p>Random signal - sounds like static or "shhhh". Essential for percussion (hi-hats,
                    snares) and special effects.</p>
                </div>
                <div class="waveform-box">
                    <canvas id="wave-supersaw"></canvas>
                    <h4>SUPERSAW</h4>
                    <p>7 detuned sawtooth oscillators for a massive, wide sound. Perfect for synthwave
                    leads, pads, and creating huge walls of sound. The classic "trance" synth sound.</p>
                </div>
                <div class="waveform-box">
                    <canvas id="wave-custom"></canvas>
                    <h4>CUSTOM</h4>
                    <p>Reserved for custom wavetables. Currently acts like a modified triangle wave.</p>
                </div>
            </div>

            <h3>What Are Harmonics?</h3>
            <div class="info-box">
                When you play a note, you're not just hearing one frequency - you hear a <strong>fundamental
                frequency</strong> (the main pitch) plus <strong>harmonics</strong> (multiples of that frequency).
                Different wave shapes have different harmonics, which is why they sound different even at
                the same pitch:<br><br>
                <strong>Sine:</strong> Only the fundamental (pure)<br>
                <strong>Triangle:</strong> Odd harmonics, quiet (mellow)<br>
                <strong>Square:</strong> Odd harmonics, louder (hollow)<br>
                <strong>Sawtooth:</strong> All harmonics (bright/buzzy)
            </div>

            <h3>Pulse Width Explained</h3>
            <p>The pulse wave has a special parameter called <strong>pulse width</strong> (or duty cycle).
            This controls how much of each cycle is "on" vs "off":</p>
            <table>
                <tr>
                    <th>Pulse Width</th>
                    <th>Sound Character</th>
                    <th>Best For</th>
                </tr>
                <tr>
                    <td>12.5%</td>
                    <td>Thin, nasal, reedy</td>
                    <td>Sound effects, thin leads</td>
                </tr>
                <tr>
                    <td>25%</td>
                    <td>Hollow, woody, clarinet-like</td>
                    <td>Classic Game Boy leads</td>
                </tr>
                <tr>
                    <td>50%</td>
                    <td>Full, rich, classic square wave</td>
                    <td>Main melodies, chords</td>
                </tr>
            </table>
        </section>

        <!-- Synths -->
        <section id="synths">
            <h2>Synth Presets (16 Types!)</h2>

            <p>ChiptuneTracker includes <strong>16 synthesizer presets</strong> that go beyond basic oscillators.
            These are pre-configured sounds with their own synthesis algorithms, perfect for creating rich,
            complex music without needing to tweak parameters.</p>

            <h3>Classic Synths (10 Types)</h3>

            <div class="waveform-container">
                <div class="waveform-box">
                    <h4>LEAD</h4>
                    <p>Bright, cutting lead sound. Uses 3 detuned sawtooth waves for a thick,
                    powerful tone that cuts through the mix. Great for main melodies.</p>
                </div>
                <div class="waveform-box">
                    <h4>PAD</h4>
                    <p>Soft, atmospheric pad with slow attack. Multiple detuned sine waves create
                    a warm, ethereal sound. Perfect for chords and ambience.</p>
                </div>
                <div class="waveform-box">
                    <h4>BASS</h4>
                    <p>Deep, punchy bass combining a sub-oscillator with harmonics. Adds weight
                    and foundation to your tracks. Use in lower octaves (C1-C3).</p>
                </div>
                <div class="waveform-box">
                    <h4>PLUCK</h4>
                    <p>Short, plucky sound with fast decay. Triangle wave with harmonics creates
                    a guitar-like or harp-like tone. Good for arpeggios.</p>
                </div>
                <div class="waveform-box">
                    <h4>ARP</h4>
                    <p>Crisp arpeggio sound using a 25% pulse wave. Designed for fast sequences
                    and rapid note passages. Classic chiptune flavor.</p>
                </div>
                <div class="waveform-box">
                    <h4>ORGAN</h4>
                    <p>Classic organ with drawbar-style additive synthesis. Multiple harmonics
                    combined for that authentic keyboard sound.</p>
                </div>
                <div class="waveform-box">
                    <h4>STRINGS</h4>
                    <p>String ensemble using 5 detuned sawtooth waves with slow attack.
                    Creates a lush, orchestral sound for pads and sustained notes.</p>
                </div>
                <div class="waveform-box">
                    <h4>BRASS</h4>
                    <p>Brassy stab combining saw and square waves with extra harmonics.
                    Punchy and bright - perfect for accents and stabs.</p>
                </div>
                <div class="waveform-box">
                    <h4>CHIP</h4>
                    <p>Classic chiptune lead using a 12.5% pulse wave (NES-style).
                    Thin, nasal, and instantly nostalgic. The authentic 8-bit sound.</p>
                </div>
                <div class="waveform-box">
                    <h4>BELL</h4>
                    <p>Bell/chime sound using FM-like synthesis. Inharmonic overtones create
                    a metallic, crystalline tone. Great for accents and melodies.</p>
                </div>
            </div>

            <div class="tip-box">
                <strong>Quick Start:</strong> Click any synth in the Sound Palette to select it, then
                click in the piano roll to place notes. Try the <strong>Lead</strong> for melodies,
                <strong>Bass</strong> for low end, and <strong>Pad</strong> for atmospheric backgrounds!
            </div>

            <h3>Synthwave Synths (6 Types)</h3>
            <p>Specialized presets designed for creating authentic 80s synthwave and retrowave music:</p>

            <div class="waveform-container">
                <div class="waveform-box">
                    <h4>SW LEAD</h4>
                    <p>Bright PWM lead with warmth. Multiple pulse waves with subtle detuning create
                    that classic synthwave melody sound. Perfect for main themes and hooks.</p>
                </div>
                <div class="waveform-box">
                    <h4>SW BASS</h4>
                    <p>Deep 808-style saw bass. Massive low-end with sub harmonics. The foundation
                    of any retrowave track. Use in C1-C2 range for maximum impact.</p>
                </div>
                <div class="waveform-box">
                    <h4>SW PAD</h4>
                    <p>Warm, lush evolving pad. Multiple detuned oscillators with slow attack create
                    that dreamy, atmospheric synthwave backdrop. Hold long chords!</p>
                </div>
                <div class="waveform-box">
                    <h4>SW ARP</h4>
                    <p>Crisp sequence/arp sound. Designed for rapid arpeggiated passages - the
                    driving rhythmic element of synthwave. Quick attack and release.</p>
                </div>
                <div class="waveform-box">
                    <h4>SW CHORD</h4>
                    <p>Polyphonic stab for chords. Punchy attack with medium release - perfect for
                    rhythmic chord stabs on the offbeat. The classic synth brass hit.</p>
                </div>
                <div class="waveform-box">
                    <h4>SW FM</h4>
                    <p>Classic DX7-style FM brass. Metallic, bright, and cutting. Inspired by the
                    Yamaha DX7 that defined 80s pop. Great for leads and accent notes.</p>
                </div>
            </div>

            <div class="info-box">
                <strong>Synthwave Tip:</strong> Layer SW Bass with SW Pad for that full retrowave sound.
                Add SW Arp running 16th notes for energy, and SW Lead for your main melody!
            </div>
        </section>

        <!-- Chord Presets -->
        <section id="chords">
            <h2>Chord Presets (45 Chords Across 8 Genres!)</h2>

            <p>ChiptuneTracker includes <strong>45 pre-built chord presets</strong> organized by genre,
            making it easy to quickly build chord progressions. Each chord places multiple notes at once
            with genre-appropriate instruments automatically selected.</p>

            <div class="tip-box" style="background: linear-gradient(135deg, rgba(100,0,100,0.3), rgba(50,0,50,0.2)); border-color: #aa00aa;">
                <strong>New in v2.8.2:</strong> Click any chord in the Sound Palette to instantly place
                a full chord - all notes are placed simultaneously at the same time position. Perfect for
                quickly sketching out progressions!
            </div>

            <h3>How to Use Chords</h3>
            <ol style="margin: 20px 0; padding-left: 30px;">
                <li>Open the <strong>Sound Palette</strong> window</li>
                <li>Find the <strong>Chords</strong> section and click a genre header to expand it</li>
                <li>Click any chord to select it (auto-switches to Draw mode)</li>
                <li>Click in the <strong>Piano Roll</strong> to place all chord notes at once</li>
                <li>The root note is where you click - other notes are placed relative to it</li>
            </ol>

            <h3>Available Chord Genres</h3>

            <div class="waveform-grid">
                <div class="waveform-box">
                    <h4>Pop (6 chords)</h4>
                    <p><strong>C Major, G Major, Am, F Major, Dm7, Cadd9</strong><br>
                    Classic pop progressions. Uses warm pads for that radio-friendly sound. Perfect for
                    emotional ballads and upbeat pop tracks.</p>
                </div>
                <div class="waveform-box">
                    <h4>Jazz (6 chords)</h4>
                    <p><strong>Cmaj7, Dm9, G13, Fm7, Bbmaj7, Am7b5</strong><br>
                    Rich extended chords with 7ths, 9ths, and 13ths. Uses organ sounds. Great for
                    smooth jazz, neo-soul, and sophisticated harmony.</p>
                </div>
                <div class="waveform-box">
                    <h4>Rock (5 chords)</h4>
                    <p><strong>E5, A5, D5, G5, B5</strong><br>
                    Power chords! Root + fifth + octave with distorted saw waves. No thirds for that
                    heavy, aggressive sound. Essential for rock and metal.</p>
                </div>
                <div class="waveform-box">
                    <h4>EDM (6 chords)</h4>
                    <p><strong>Am, F, C, G, Em7, Dm</strong><br>
                    Anthemic dance music chords. Uses synthwave stabs. Perfect for builds, drops, and
                    those massive festival moments.</p>
                </div>
                <div class="waveform-box">
                    <h4>Hip Hop (5 chords)</h4>
                    <p><strong>Cm7, Fm9, Bbmaj7, Gm7, Ebmaj9</strong><br>
                    Lo-fi and soulful chords. Uses lo-fi keys for that sample-like character. Great for
                    boom-bap, trap, and neo-soul beats.</p>
                </div>
                <div class="waveform-box">
                    <h4>Reggaeton (5 chords)</h4>
                    <p><strong>Am, F, Dm, E, G</strong><br>
                    Latin-inspired progressions. The Am-F-Dm-E is the classic dembow progression.
                    Mix with reggaeton drums for authentic perreo vibes!</p>
                </div>
                <div class="waveform-box">
                    <h4>Synthwave (7 chords)</h4>
                    <p><strong>Fm, Cm, Ab, Eb, Bbm7, Fm9, Db</strong><br>
                    Outrun and retrowave chords. Uses authentic synthwave pads and leads. Perfect for
                    that neon-lit, 80s nostalgia sound. Minor keys dominate!</p>
                </div>
                <div class="waveform-box">
                    <h4>Chiptune (8 chords)</h4>
                    <p><strong>C/Am/G/Em/F Arps, C5, E5, Dm</strong><br>
                    8-bit style! Arpeggiated chords using square/triangle waves + power chords.
                    Captures that NES/Game Boy sound. Mix arps and power chords for variety!</p>
                </div>
            </div>

            <div class="info-box">
                <strong>Pro Tip:</strong> Each chord uses a genre-appropriate instrument automatically:
                <ul style="margin-top: 10px;">
                    <li>Pop &amp; Jazz &rarr; Pads and Organs</li>
                    <li>Rock &rarr; Distorted Sawtooth</li>
                    <li>EDM &amp; Synthwave &rarr; Synthwave Pads/Chords</li>
                    <li>Hip Hop &rarr; Lo-Fi Keys</li>
                    <li>Chiptune &rarr; Square, Triangle, Chip Lead</li>
                </ul>
            </div>

            <h3>Understanding Chord Intervals</h3>
            <p>Chords are built from intervals (semitones above the root):</p>
            <table style="width: 100%; margin: 20px 0; border-collapse: collapse;">
                <tr style="background: rgba(0,255,65,0.1);">
                    <th style="padding: 10px; border: 1px solid #00ff41; text-align: left;">Chord Type</th>
                    <th style="padding: 10px; border: 1px solid #00ff41; text-align: left;">Intervals</th>
                    <th style="padding: 10px; border: 1px solid #00ff41; text-align: left;">Character</th>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #00ff41;">Major</td>
                    <td style="padding: 10px; border: 1px solid #00ff41;">0, 4, 7</td>
                    <td style="padding: 10px; border: 1px solid #00ff41;">Happy, bright</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #00ff41;">Minor</td>
                    <td style="padding: 10px; border: 1px solid #00ff41;">0, 3, 7</td>
                    <td style="padding: 10px; border: 1px solid #00ff41;">Sad, emotional</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #00ff41;">Power (5)</td>
                    <td style="padding: 10px; border: 1px solid #00ff41;">0, 7, 12</td>
                    <td style="padding: 10px; border: 1px solid #00ff41;">Heavy, neutral</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #00ff41;">Major 7th</td>
                    <td style="padding: 10px; border: 1px solid #00ff41;">0, 4, 7, 11</td>
                    <td style="padding: 10px; border: 1px solid #00ff41;">Smooth, jazzy</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #00ff41;">Minor 7th</td>
                    <td style="padding: 10px; border: 1px solid #00ff41;">0, 3, 7, 10</td>
                    <td style="padding: 10px; border: 1px solid #00ff41;">Chill, lo-fi</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #00ff41;">9th chords</td>
                    <td style="padding: 10px; border: 1px solid #00ff41;">+ 14 (the 9th)</td>
                    <td style="padding: 10px; border: 1px solid #00ff41;">Extended, soulful</td>
                </tr>
            </table>
        </section>

        <!-- Drums -->
        <section id="drums">
            <h2>Drum Sounds (26 Types!)</h2>

            <p>ChiptuneTracker includes a comprehensive drum kit with <strong>26 synthesized sounds</strong>
            that emulate classic 8-bit and electronic percussion, including authentic <strong>Reggaeton</strong>
            instruments. Unlike melodic sounds, drums don't follow the ADSR envelope - they have their own
            specialized envelopes built in. Drums also automatically adjust their duration based on BPM!</p>

            <div class="tip-box" style="background: linear-gradient(135deg, rgba(0,100,0,0.3), rgba(0,50,0,0.2)); border-color: #00aa00;">
                <strong>v2.6.0 Audio Engine Upgrade:</strong> All drum sounds now use properly synthesized
                pitch envelopes for authentic 808/909 character. Kicks have smooth frequency sweeps (150Hz50Hz),
                snares have punchy 200Hz body with noise, and toms feature pitch drops for that classic "bom" sound.
            </div>

            <div class="tip-box">
                <strong>Expandable Palette:</strong> Drums are organized in collapsible categories (Kicks, Snares, Hi-Hats, etc.).
                Click a category header to expand/collapse it. Each drum offers <strong>3 duration variants</strong>:
                <ul style="margin-top: 10px;">
                    <li><strong>Short (0.5x)</strong> - Tight, snappy hits</li>
                    <li><strong>Normal (1x)</strong> - Standard duration</li>
                    <li><strong>Long (2x)</strong> - Extended decay/sustain</li>
                </ul>
            </div>

            <h3>Kick Drums</h3>
            <div class="param-grid">
                <div class="param-card">
                    <h4>KICK</h4>
                    <p>Standard kick - deep "boom" with pitch sweep (150Hz  50Hz). The foundation of most beats.</p>
                </div>
                <div class="param-card">
                    <h4>KICK 808</h4>
                    <p>Classic TR-808 style - deeper sub-bass, longer decay. Perfect for hip-hop and electronic.</p>
                </div>
                <div class="param-card">
                    <h4>KICK HARD</h4>
                    <p>Punchy, tight kick with more attack click. Great for aggressive tracks.</p>
                </div>
                <div class="param-card">
                    <h4>KICK SOFT</h4>
                    <p>Warm, mellow kick with gentle attack. Good for chill and ambient music.</p>
                </div>
            </div>

            <h3>Snares & Claps</h3>
            <div class="param-grid">
                <div class="param-card">
                    <h4>SNARE</h4>
                    <p>Sharp "tsk" - tonal pop with noise burst. Classic backbeat sound.</p>
                </div>
                <div class="param-card">
                    <h4>SNARE 808</h4>
                    <p>TR-808 snare - more tonal, snappy character with distinct pitch.</p>
                </div>
                <div class="param-card">
                    <h4>SNARE RIM</h4>
                    <p>Rimshot - clicky, sharp attack. Good for accents.</p>
                </div>
                <div class="param-card">
                    <h4>CLAP</h4>
                    <p>Hand clap - multiple layered bursts for that classic clap sound.</p>
                </div>
            </div>

            <h3>Hi-Hats & Cymbals</h3>
            <div class="param-grid">
                <div class="param-card">
                    <h4>HI-HAT (Closed)</h4>
                    <p>Tight metallic "tss" - fast decay, essential for rhythm.</p>
                </div>
                <div class="param-card">
                    <h4>HI-HAT OPEN</h4>
                    <p>Open hi-hat - longer, sizzling decay. Use sparingly for accents.</p>
                </div>
                <div class="param-card">
                    <h4>HI-HAT PEDAL</h4>
                    <p>Very short pedal sound - tightest of all hi-hats.</p>
                </div>
                <div class="param-card">
                    <h4>CRASH</h4>
                    <p>Crash cymbal - explosive, long decay. Great for transitions.</p>
                </div>
                <div class="param-card">
                    <h4>RIDE</h4>
                    <p>Ride cymbal - sustained, shimmering. Good for jazz patterns.</p>
                </div>
            </div>

            <h3>Toms & Percussion</h3>
            <div class="param-grid">
                <div class="param-card">
                    <h4>TOM / TOM LOW / TOM HIGH</h4>
                    <p>Pitched drums for fills. Low tom is deep, high tom is tight.</p>
                </div>
                <div class="param-card">
                    <h4>COWBELL</h4>
                    <p>Classic 808 cowbell - metallic, melodic. More cowbell!</p>
                </div>
                <div class="param-card">
                    <h4>CLAVE</h4>
                    <p>Wood block click - tight and percussive. Latin rhythms.</p>
                </div>
                <div class="param-card">
                    <h4>CONGA / MARACAS / TAMBOURINE</h4>
                    <p>Additional percussion for flavor and texture.</p>
                </div>
            </div>

            <h3>Reggaeton Instruments</h3>
            <p>Authentic Latin percussion and synths for creating <strong>dembow</strong> beats and reggaeton music!</p>
            <div class="param-grid">
                <div class="param-card">
                    <h4>REGGAETON BASS</h4>
                    <p>Deep punchy bass with 808-style pitch sweep. The foundation of reggaeton's low end.</p>
                </div>
                <div class="param-card">
                    <h4>LATIN BRASS</h4>
                    <p>Punchy brass stab for hooks and "perreo" breaks. Adds that classic reggaeton punch.</p>
                </div>
                <div class="param-card">
                    <h4>GUIRA</h4>
                    <p>Scraped metal percussion - essential for authentic dembow rhythm. That distinctive "ch-ch" sound.</p>
                </div>
                <div class="param-card">
                    <h4>BONGO</h4>
                    <p>Latin bongo drums with characteristic pitch and warm tone. Great for fills.</p>
                </div>
                <div class="param-card">
                    <h4>TIMBALE</h4>
                    <p>High-pitched metallic percussion with inharmonic ring. Adds sparkle to patterns.</p>
                </div>
                <div class="param-card">
                    <h4>DEMBOW 808</h4>
                    <p>Lo-fi unpitched kick with fast pitch sweep. 12-bit style crunch, cuts off before tonal bass emerges.</p>
                </div>
                <div class="param-card">
                    <h4>DEMBOW SNARE</h4>
                    <p>Tight clap-like snare with 1-3kHz emphasis. No tail, multiple noise bursts for authentic dembow feel.</p>
                </div>
            </div>

            <h3>Basic Beat Patterns</h3>
            <p>Here are some classic patterns to get you started (X = hit, - = rest):</p>
            <pre><code><span class="comment">// Basic Rock Beat (4/4 time)</span>
Beat:    1   2   3   4
Kick:    X   -   X   -
Snare:   -   X   -   X
HiHat:   X   X   X   X

<span class="comment">// Faster Dance Beat</span>
Beat:    1 + 2 + 3 + 4 +
Kick:    X - - - X - - -
Snare:   - - X - - - X -
HiHat:   X X X X X X X X

<span class="comment">// Chiptune Classic</span>
Beat:    1 + 2 + 3 + 4 +
Kick:    X - - X - - X -
Snare:   - - X - - X - X
HiHat:   X - X - X - X -

<span class="comment">// Reggaeton Dembow (90-100 BPM)</span>
Beat:    1   +   2   +   3   +   4   +
Dembow:  X   -   -   X   X   -   -   X
Snare:   -   -   X   -   -   -   X   -
Guira:   X   X   X   X   X   X   X   X
HiHat:   -   X   -   X   -   X   -   X</code></pre>

            <div class="tip-box">
                <strong>Tip:</strong> The grid in the piano roll is divided into beats. Place kicks and
                snares on the main beats first, then add hi-hats to fill in the rhythm. Toms work great
                for fills at the end of 4 or 8 bar sections!
            </div>
        </section>

        <!-- Visual Themes -->
        <section id="themes">
            <h2>Visual Themes</h2>

            <p>ChiptuneTracker includes <strong>8 visual themes</strong> to customize your music-making
            experience. Each theme features animated backgrounds and unique color schemes. Select your
            theme from <strong>View  Theme</strong> in the menu bar.</p>

            <div class="param-grid">
                <div class="param-card">
                    <h4>Stock (Default)</h4>
                    <p>Clean, dark theme with no background animations. Best for focusing on your music
                    or if you prefer minimal distractions. Low resource usage.</p>
                </div>
                <div class="param-card">
                    <h4>Cyberpunk</h4>
                    <p>Neon yellow, hot pink, and electric blue. Features animated data streams on
                    screen edges, circuit board patterns, pulsing borders, and glitch effects.
                    High-tech hacker aesthetic.</p>
                </div>
                <div class="param-card">
                    <h4>Synthwave</h4>
                    <p>80s retro vibes with a large sunset, perspective grid floor, and color-cycling
                    gradient chasers. Smooth neon transitions between pink, cyan, and green.
                    The ultimate retrowave experience.</p>
                </div>
                <div class="param-card">
                    <h4>Matrix</h4>
                    <p>Green on black with falling code animation and <strong>morphing characters</strong>
                    that randomly change as they fall - just like the movie! Each column has its own
                    morph rate for authentic digital rain effect.</p>
                </div>
                <div class="param-card">
                    <h4>Frutiger Aero</h4>
                    <p>Glossy Web 2.0 aesthetic (2004-2013 era). Features floating translucent bubbles
                    with highlights, drifting clouds, and glass reflection effects. Sky blue gradient
                    background with a light, airy feel.</p>
                </div>
                <div class="param-card">
                    <h4>Minimal</h4>
                    <p>Clean, flat modern design with dark grays and a bold red accent color. Subtle
                    grid pattern, traveling accent line, pulsing corner triangles, and floating
                    geometric shapes. Professional and focused.</p>
                </div>
                <div class="param-card">
                    <h4>Vaporwave</h4>
                    <p>Pink and cyan retro-futurism aesthetic. Features a striped sunset, perspective
                    grid receding to the horizon, and floating wireframe shapes (triangles, circles,
                    rotating squares). A E S T H E T I C vibes.</p>
                </div>
                <div class="param-card">
                    <h4>Retro Terminal</h4>
                    <p>Authentic CRT monitor simulation with amber phosphor glow. Features prominent
                    scanlines, screen curvature vignette, interlace flicker, RGB color fringing,
                    occasional horizontal glitches, and a power-on roll effect. Nostalgic vintage
                    computer feel.</p>
                </div>
            </div>

            <div class="info-box">
                <strong>Performance Note:</strong> Animated themes use additional GPU resources.
                If you experience any slowdown, switch to the Stock theme for best performance.
                All themes scale properly to widescreen and fullscreen modes.
            </div>
        </section>

        <!-- File Operations -->
        <section id="files">
            <h2>File Operations & Export</h2>

            <h3>Project Files (.ctp)</h3>
            <p>ChiptuneTracker uses its own project format (.ctp) to save your work. Project files store:</p>
            <ul>
                <li>All patterns and their notes</li>
                <li>BPM and timing settings</li>
                <li>Master volume</li>
                <li>Note properties (oscillator type, velocity, fades)</li>
            </ul>

            <div class="param-grid">
                <div class="param-card">
                    <h4>New</h4>
                    <p>Creates a fresh, empty project. All unsaved work is cleared.</p>
                </div>
                <div class="param-card">
                    <h4>Load</h4>
                    <p>Opens a .ctp project file. Uses Windows file dialog.</p>
                </div>
                <div class="param-card">
                    <h4>Save</h4>
                    <p>Saves to current file. If new project, prompts for filename.</p>
                </div>
                <div class="param-card">
                    <h4>Save As</h4>
                    <p>Always prompts for a new filename. Good for creating backups.</p>
                </div>
            </div>

            <h3>WAV Export</h3>
            <p>Export your music as a high-quality WAV audio file:</p>
            <ol>
                <li>Click the <strong>WAV</strong> button in the File menu</li>
                <li>Set the duration (in beats) - auto-calculated from your notes</li>
                <li>Click <strong>Export</strong> and choose a filename</li>
                <li>The entire pattern is rendered to stereo 16-bit 44.1kHz WAV</li>
            </ol>

            <div class="info-box">
                <strong>Export Duration:</strong> The default duration is automatically calculated from
                your last note. Add extra beats if you want the sound to fade out naturally (especially
                for notes with long release times).
            </div>

            <h3>MP3 Export</h3>
            <p>Export directly to MP3 format for easy sharing:</p>
            <ol>
                <li>Click the <strong>MP3</strong> button in the File menu</li>
                <li>Set the duration and choose a bitrate (128/192/256/320 kbps)</li>
                <li>Click <strong>Export</strong> and choose a filename</li>
                <li>ChiptuneTracker will render and encode your music</li>
            </ol>

            <div class="warning-box">
                <strong>Requires External Encoder:</strong> MP3 export needs either LAME or FFmpeg
                installed on your system and available in your PATH. These are free, open-source tools:
                <ul style="margin-top: 10px;">
                    <li><strong>LAME:</strong> Download from <code>lame.sourceforge.io</code></li>
                    <li><strong>FFmpeg:</strong> Download from <code>ffmpeg.org</code></li>
                </ul>
                If neither is found, the export popup will show which encoders are available.
            </div>

            <div class="tip-box">
                <strong>Bitrate Guide:</strong>
                <ul style="margin-top: 10px;">
                    <li><strong>128 kbps:</strong> Smallest file size, good for previews</li>
                    <li><strong>192 kbps:</strong> Good balance of quality and size</li>
                    <li><strong>256 kbps:</strong> High quality for most uses</li>
                    <li><strong>320 kbps:</strong> Maximum quality, near-CD audio</li>
                </ul>
            </div>
        </section>

        <!-- Views -->
        <section id="views">
            <h2>View Modes</h2>

            <p>ChiptuneTracker offers multiple view modes for different aspects of music creation.
            Switch between views using the tabs at the top of the interface.</p>

            <h3>Piano Roll View</h3>
            <p>The primary editing view where you visually place and edit notes:</p>
            <ul>
                <li><strong>Visual note editing:</strong> Click to place notes, drag to move</li>
                <li><strong>Vertical axis:</strong> Pitch (higher notes at top)</li>
                <li><strong>Horizontal axis:</strong> Time (left to right)</li>
                <li><strong>Grid lines:</strong> Beat divisions for precise placement</li>
                <li><strong>Playhead:</strong> Red line showing current position</li>
            </ul>
            <div class="tip-box">
                The Piano Roll is best for detailed melodic work - creating melodies, adjusting
                note lengths, and fine-tuning your composition.
            </div>

            <h3>Tracker View</h3>
            <p>A traditional tracker-style interface inspired by classic music software like
            FastTracker and ProTracker:</p>
            <div class="param-grid">
                <div class="param-card">
                    <h4>Row-Based Editing</h4>
                    <p>Notes displayed as rows in a vertical scrolling grid. Each row represents
                    a time step (tick). Navigate with arrow keys.</p>
                </div>
                <div class="param-card">
                    <h4>Compact Notation</h4>
                    <p>Notes shown as text: <code>C-4</code> = C in octave 4, <code>---</code> = empty,
                    <code>===</code> = note off. Includes volume and effect columns.</p>
                </div>
                <div class="param-card">
                    <h4>Multiple Channels</h4>
                    <p>See all channels side-by-side. Great for understanding how different
                    parts interact rhythmically.</p>
                </div>
                <div class="param-card">
                    <h4>Pattern View</h4>
                    <p>Each pattern is a fixed-length sequence. Chain patterns together
                    in the Arrangement view to build full songs.</p>
                </div>
            </div>
            <pre><code><span class="comment">// Example Tracker Display</span>
Row   Ch.1       Ch.2       Ch.3       Ch.4

 00   C-4 01 --  --- -- --  E-4 02 --  G-4 02 --
 01   --- -- --  --- -- --  --- -- --  --- -- --
 02   D-4 01 --  --- -- --  F-4 02 --  A-4 02 --
 03   --- -- --  C-2 03 --  --- -- --  --- -- --
 04   E-4 01 --  --- -- --  G-4 02 --  B-4 02 --</code></pre>

            <h3>Arrangement View</h3>
            <p>The arrangement view lets you organize patterns into a complete song:</p>
            <ul>
                <li><strong>Timeline:</strong> Horizontal timeline showing song structure</li>
                <li><strong>Pattern Clips:</strong> Drag patterns onto the timeline</li>
                <li><strong>Multiple Tracks:</strong> Each channel has its own track lane</li>
                <li><strong>Loop Regions:</strong> Define sections that repeat</li>
                <li><strong>Song Length:</strong> Extend or shorten your composition</li>
            </ul>
            <div class="warning-box">
                <strong>Pattern vs Arrangement:</strong> A <em>pattern</em> is a short repeating
                sequence (like a 4-bar loop). The <em>arrangement</em> is how you chain those
                patterns together to create a full song with intro, verse, chorus, etc.
            </div>

            <h3>Mixer View</h3>
            <p>Control the mix of all channels and apply effects:</p>
            <div class="param-grid">
                <div class="param-card">
                    <h4>Channel Faders</h4>
                    <p>Adjust the volume of each channel. Vertical sliders just like a real
                    mixing console. See peak meters for level monitoring.</p>
                </div>
                <div class="param-card">
                    <h4>Pan Controls</h4>
                    <p>Position each channel in the stereo field. Left, right, or anywhere
                    in between. Creates width and separation.</p>
                </div>
                <div class="param-card">
                    <h4>Mute / Solo</h4>
                    <p><strong>Mute:</strong> Silence a channel. <strong>Solo:</strong> Hear only
                    that channel. Essential for isolating parts while mixing.</p>
                </div>
                <div class="param-card">
                    <h4>Effects</h4>
                    <p>Toggle per-channel effects: Bitcrusher (lo-fi crunch), Distortion (warmth),
                    Filter (tone shaping), Delay (echo). Each has adjustable parameters.</p>
                </div>
            </div>
            <table>
                <tr>
                    <th>Effect</th>
                    <th>What It Does</th>
                    <th>Best For</th>
                </tr>
                <tr>
                    <td>Bitcrusher</td>
                    <td>Reduces bit depth for that crunchy lo-fi sound</td>
                    <td>Drums, retro vibes</td>
                </tr>
                <tr>
                    <td>Distortion</td>
                    <td>Adds harmonic saturation and warmth</td>
                    <td>Bass, leads</td>
                </tr>
                <tr>
                    <td>Filter</td>
                    <td>Low-pass filter to cut high frequencies</td>
                    <td>Pads, transitions</td>
                </tr>
                <tr>
                    <td>Delay</td>
                    <td>Echo/repeat effect synced to tempo</td>
                    <td>Leads, atmosphere</td>
                </tr>
            </table>

            <h3>Pad Controller View</h3>
            <p>A live performance interface inspired by hardware like the AKAI MPK Mini and
            Teenage Engineering OP-1. See the dedicated <a href="#padcontroller">Pad Controller</a>
            section for full details!</p>
        </section>

        <!-- Pad Controller -->
        <section id="padcontroller">
            <h2>Live Pad Controller</h2>

            <p>The <strong>Pad Controller</strong> is a live performance interface that lets you
            create music in real-time, like having a hardware synthesizer and drum machine built
            into ChiptuneTracker. Inspired by the <strong>AKAI MPK Mini</strong> and
            <strong>Teenage Engineering OP-1</strong>!</p>

            <div class="info-box">
                <strong>What Can You Do?</strong>
                <ul style="margin-top: 10px;">
                    <li>Trigger drum sounds and synths with a 4x4 pad grid</li>
                    <li>Play melodies on a virtual 2-octave keyboard</li>
                    <li>Adjust sound parameters in real-time with 8 knobs</li>
                    <li>Use the built-in arpeggiator for automatic patterns</li>
                    <li><strong>Record your performance</strong> directly into a pattern!</li>
                </ul>
            </div>

            <h3>Interface Layout</h3>
            <pre><code>
  [REC] [PLAY] [STOP]  BPM:[120]  Metronome:[]  Quantize:[]

                                                                
   PADS     WAVEFORM     KNOBS   
  [1][2][3][4]                        (A)ATK   (S)SUS    
  [5][6][7][8]      ~~~~~        (D)DEC   (R)REL    
  [9][10][11]                                            
  [12][13][14]     Sound: SAW         (P)PWD   (T)DET    
     [15][16]        (F)FLT   (V)VOL    
                                         
   Bank:[A][B]                                               
                                                 
                                                                
   ARPEGGIATOR 
   [ON/OFF]  Mode:[Up][Down][UpDn][Rand]  Rate:[1/8]  Oct:[1]
  
                                                                
   KEYBOARD 
   [] Octave: 4 []                                         
           
   CDEFGABCDEFGABCDEFGABCDE        
           
  
</code></pre>

            <h3>The Pad Grid (4x4 = 16 Pads)</h3>
            <p>Click pads to trigger sounds instantly. Each pad is assigned to a different sound:</p>
            <table>
                <tr>
                    <th>Bank A (Drums)</th>
                    <th>Bank B (Synths)</th>
                </tr>
                <tr>
                    <td>1-4: Kick, Kick808, Snare, Snare808</td>
                    <td>1-4: Pulse, Triangle, Sawtooth, Sine</td>
                </tr>
                <tr>
                    <td>5-8: HiHat, HiHatOpen, Clap, Rim</td>
                    <td>5-8: Supersaw, Lead, Pad, Bass</td>
                </tr>
                <tr>
                    <td>9-12: Tom, TomLow, TomHigh, Crash</td>
                    <td>9-12: Pluck, Arp, Strings, Brass</td>
                </tr>
                <tr>
                    <td>13-16: Ride, Cowbell, Clave, Tambourine</td>
                    <td>13-16: SW Lead, SW Bass, SW Pad, SW Arp</td>
                </tr>
            </table>
            <div class="tip-box">
                <strong>Color Coding:</strong> Pads light up in different colors based on sound type:
                <ul style="margin-top: 10px;">
                    <li><span style="color: #ff4444;">Red</span> = Kicks</li>
                    <li><span style="color: #ff8844;">Orange</span> = Snares/Claps</li>
                    <li><span style="color: #ffff44;">Yellow</span> = Hi-Hats/Cymbals</li>
                    <li><span style="color: #44ff44;">Green</span> = Toms/Percussion</li>
                    <li><span style="color: #44ffff;">Cyan</span> = Basic Oscillators</li>
                    <li><span style="color: #ff44ff;">Magenta</span> = Synth Presets</li>
                </ul>
            </div>

            <h3>The 8 Parameter Knobs</h3>
            <p>Adjust sound parameters in real-time. Changes affect the next note played:</p>
            <div class="param-grid">
                <div class="param-card">
                    <h4 style="color: #ff6b6b;">A - Attack</h4>
                    <p>How quickly the sound reaches full volume. Turn up for slow swells,
                    down for instant punch.</p>
                </div>
                <div class="param-card">
                    <h4 style="color: #ffd93d;">D - Decay</h4>
                    <p>How quickly it drops to sustain level after the initial attack.
                    Short = plucky, Long = natural.</p>
                </div>
                <div class="param-card">
                    <h4 style="color: #6bcb77;">S - Sustain</h4>
                    <p>The volume level while holding a note. 0 = fades away,
                    1 = stays at full volume.</p>
                </div>
                <div class="param-card">
                    <h4 style="color: #4d96ff;">R - Release</h4>
                    <p>How long the sound takes to fade after release. Short = tight,
                    Long = ambient tail.</p>
                </div>
                <div class="param-card">
                    <h4 style="color: #ff44ff;">P - Pulse Width</h4>
                    <p>For pulse waves: changes the duty cycle. 50% = square,
                    12.5% = thin and nasal.</p>
                </div>
                <div class="param-card">
                    <h4 style="color: #44ffff;">T - Detune</h4>
                    <p>Slightly shifts pitch for chorus/unison effects. Great for
                    fattening up leads and pads.</p>
                </div>
                <div class="param-card">
                    <h4 style="color: #ffaa44;">F - Filter</h4>
                    <p>Low-pass filter cutoff. Turn down to darken the sound,
                    up for full brightness.</p>
                </div>
                <div class="param-card">
                    <h4 style="color: #ffffff;">V - Volume</h4>
                    <p>Overall volume of the current sound. Use for dynamics
                    and mixing balance.</p>
                </div>
            </div>

            <h3>The Arpeggiator</h3>
            <p>Automatically plays patterns of notes when you hold keys on the keyboard:</p>
            <table>
                <tr>
                    <th>Mode</th>
                    <th>Pattern</th>
                    <th>Example (C-E-G held)</th>
                </tr>
                <tr>
                    <td>Up</td>
                    <td>Low to high, repeat</td>
                    <td>C-E-G-C-E-G-C-E-G...</td>
                </tr>
                <tr>
                    <td>Down</td>
                    <td>High to low, repeat</td>
                    <td>G-E-C-G-E-C-G-E-C...</td>
                </tr>
                <tr>
                    <td>Up-Down</td>
                    <td>Bounce up and down</td>
                    <td>C-E-G-E-C-E-G-E-C...</td>
                </tr>
                <tr>
                    <td>Random</td>
                    <td>Random order</td>
                    <td>E-C-G-G-C-E-C-G-E...</td>
                </tr>
            </table>
            <p><strong>Rate:</strong> Speed of the arpeggio (1/4, 1/8, 1/16, 1/32 notes)</p>
            <p><strong>Octave:</strong> How many octaves to span (1-3)</p>

            <h3>Recording Your Performance</h3>
            <p>The most powerful feature! Record your live playing directly into a pattern:</p>
            <ol>
                <li>Click the <strong style="color: #ff4444;">REC</strong> button (turns red when active)</li>
                <li>Click <strong>PLAY</strong> to start playback with recording</li>
                <li>Play pads and keys - your hits are recorded with timing!</li>
                <li>Click <strong>STOP</strong> when finished</li>
                <li>Your notes appear in the Piano Roll pattern</li>
            </ol>
            <div class="warning-box">
                <strong>Quantize Option:</strong> When enabled, recorded notes snap to the nearest
                grid line (1/16 note by default). Turn off for human feel with natural timing variations.
            </div>
            <div class="tip-box">
                <strong>Pro Workflow:</strong>
                <ol style="margin-top: 10px;">
                    <li>Record a basic drum pattern with Bank A pads</li>
                    <li>Switch to Bank B and record a bass line on the keyboard</li>
                    <li>Add a melody layer with the arpeggiator</li>
                    <li>Fine-tune in Piano Roll view</li>
                </ol>
            </div>

            <h3>Keyboard Shortcuts for Pad Controller</h3>
            <table>
                <tr>
                    <th>Key</th>
                    <th>Action</th>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">1-9, 0, -, =</span></td>
                    <td>Trigger pads 1-12</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Q, W, E, R</span></td>
                    <td>Trigger pads 13-16</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Z-M</span> (bottom row)</td>
                    <td>Play keyboard notes (white keys)</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">S, D, G, H, J</span></td>
                    <td>Play keyboard notes (black keys)</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Space</span></td>
                    <td>Play/Pause</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">R</span> (hold Ctrl)</td>
                    <td>Toggle Record</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Tab</span></td>
                    <td>Switch pad banks (A/B)</td>
                </tr>
            </table>
        </section>

        <!-- Workflow -->
        <section id="workflow">
            <h2>Music Making Workflow</h2>

            <h3>Step 1: Start with Drums</h3>
            <p>Building a solid foundation makes everything easier:</p>
            <ol>
                <li>Set your tempo (120 BPM is a good starting point)</li>
                <li>Select the <strong>Kick</strong> from the Sound Palette</li>
                <li>Place kicks on beats 1 and 3</li>
                <li>Select <strong>Snare</strong> and place on beats 2 and 4</li>
                <li>Add <strong>HiHat</strong> on every beat or half-beat</li>
                <li>Press Play and listen!</li>
            </ol>

            <h3>Step 2: Add Bass</h3>
            <p>The bass provides harmonic foundation:</p>
            <ol>
                <li>Select <strong>Triangle</strong> wave (smooth bass sound)</li>
                <li>Place notes in the lower octaves (C2-C3 range)</li>
                <li>Start simple - try playing the root note of your chord</li>
                <li>Bass often follows the kick drum pattern</li>
            </ol>

            <h3>Step 3: Create a Melody</h3>
            <p>The memorable part everyone hums:</p>
            <ol>
                <li>Select <strong>Pulse</strong> wave (classic lead sound)</li>
                <li>Place notes in the middle octaves (C4-C5 range)</li>
                <li>Start with notes from one scale (try C major: C D E F G A B)</li>
                <li>Vary note lengths - mix short and long notes</li>
                <li>Leave some silence - rests are important!</li>
            </ol>

            <h3>Step 4: Add Harmony (Optional)</h3>
            <p>Fill out the sound:</p>
            <ol>
                <li>Select another <strong>Pulse</strong> with different pulse width</li>
                <li>Add notes that complement the melody (3rds and 5ths above/below)</li>
                <li>Or add simple chord stabs on the beat</li>
            </ol>

            <div class="info-box">
                <strong>The Golden Rule:</strong> Less is more! Classic chiptune music is powerful
                because of what's NOT there. Don't fill every space with notes. Let each element
                breathe and the music will have more impact.
            </div>
        </section>

        <!-- Synthwave Music Guide -->
        <section id="synthwave">
            <h2>How to Make Synthwave Music</h2>

            <p>Synthwave (also called retrowave, outrun, or futuresynth) is a genre inspired by 1980s
            electronic music, film soundtracks, and video games. It evokes neon-lit cityscapes, fast cars,
            and retro-futuristic aesthetics. Here's how to create authentic synthwave in ChiptuneTracker!</p>

            <h3>The Synthwave Sound</h3>
            <div class="param-grid">
                <div class="param-card">
                    <h4>Key Characteristics</h4>
                    <ul>
                        <li>Tempo: 80-118 BPM (slower than you might think!)</li>
                        <li>Heavy use of synthesizers and drum machines</li>
                        <li>Arpeggiated sequences driving the rhythm</li>
                        <li>Big, emotional melodies</li>
                        <li>Deep, powerful bass lines</li>
                        <li>Atmospheric pads for depth</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Influences to Study</h4>
                    <ul>
                        <li><strong>Artists:</strong> Kavinsky, Perturbator, Carpenter Brut, The Midnight</li>
                        <li><strong>Films:</strong> Drive, Blade Runner, Tron, Terminator</li>
                        <li><strong>Games:</strong> Far Cry 3: Blood Dragon, Hotline Miami</li>
                        <li><strong>Era:</strong> 1980s Italo disco, early electronic pop</li>
                    </ul>
                </div>
            </div>

            <h3>Step-by-Step: Building a Synthwave Track</h3>

            <h4>1. Set the Tempo (80-100 BPM)</h4>
            <p>Synthwave is often slower than people expect. Try starting at <strong>96 BPM</strong> -
            it gives that driving but not rushed feel. Enable the <strong>Synthwave theme</strong> for
            the full visual experience!</p>

            <h4>2. Create the Drum Foundation</h4>
            <p>Synthwave uses electronic drum machine sounds. Start with this classic pattern:</p>
            <pre><code><span class="comment">// Classic Synthwave Beat (96 BPM, 4/4)</span>
Beat:      1   +   2   +   3   +   4   +
Kick 808:  X   -   -   -   X   -   -   -
Snare 808: -   -   X   -   -   -   X   -
HiHat:     X   X   X   X   X   X   X   X

<span class="comment">// Add an open hi-hat on the "and" of 2 and 4</span>
Beat:      1   +   2   +   3   +   4   +
HiHatOpen: -   -   -   X   -   -   -   X</code></pre>

            <div class="tip-box">
                <strong>Drum Selection:</strong> Use <strong>Kick 808</strong> and <strong>Snare 808</strong>
                for authentic synthwave drums. The 808 sounds have longer decays that work perfectly with
                the genre. Add <strong>Clap</strong> layered with snare for bigger hits!
            </div>

            <h4>3. Add the Bass Line</h4>
            <p>The bass is crucial in synthwave - it needs to be deep and powerful:</p>
            <ol>
                <li>Select <strong>SW Bass</strong> from the Synthwave synths</li>
                <li>Place notes in the <strong>C1-C2 octave range</strong></li>
                <li>Follow the kick drum pattern initially</li>
                <li>Add movement with octave jumps and passing notes</li>
            </ol>
            <pre><code><span class="comment">// Simple driving bass (root note = C)</span>
Beat:  1   +   2   +   3   +   4   +
Bass:  C1  -   C1  C2  C1  -   C1  G1

<span class="comment">// More melodic bass</span>
Beat:  1   +   2   +   3   +   4   +
Bass:  C1  -   E1  -   G1  -   E1  C2</code></pre>

            <h4>4. Create the Arpeggio</h4>
            <p>The driving arpeggio is the heart of synthwave's energy:</p>
            <ol>
                <li>Select <strong>SW Arp</strong></li>
                <li>Create a chord pattern (try C-E-G for C major)</li>
                <li>Place notes as 16th notes (4 notes per beat)</li>
                <li>Follow a pattern: low-mid-high-mid or similar</li>
            </ol>
            <pre><code><span class="comment">// Classic synthwave arp pattern (C major chord)</span>
Beat:     1 e + a 2 e + a 3 e + a 4 e + a
Arp:      C E G E C E G E C E G E C E G E
Octave:   3 3 3 3 4 4 4 4 3 3 3 3 4 4 4 4</code></pre>

            <div class="warning-box">
                <strong>Don't Overdo It:</strong> The arp should drive the track, not dominate it.
                Keep it at a moderate volume and consider dropping it out during verses or breakdowns
                to create contrast.
            </div>

            <h4>5. Add Atmospheric Pads</h4>
            <p>Pads create the emotional depth and space in synthwave:</p>
            <ol>
                <li>Select <strong>SW Pad</strong></li>
                <li>Place long sustained chords (4-8 beats each)</li>
                <li>Use simple chord progressions (i-VI-III-VII is classic)</li>
                <li>Let them ring under everything else</li>
            </ol>
            <pre><code><span class="comment">// Emotional pad progression (Am - F - C - G)</span>
Bars:    |   1   |   2   |   3   |   4   |
Chords:  |  Am   |   F   |   C   |   G   |
Notes:   | A-C-E | F-A-C | C-E-G | G-B-D |</code></pre>

            <h4>6. Write the Lead Melody</h4>
            <p>The lead carries the emotional hook - make it memorable:</p>
            <ol>
                <li>Select <strong>SW Lead</strong></li>
                <li>Work in the <strong>C4-C5 octave range</strong></li>
                <li>Use the minor scale for that nostalgic synthwave feel</li>
                <li>Include dramatic jumps and sustained notes</li>
                <li>Leave space - silence is powerful!</li>
            </ol>

            <div class="tip-box">
                <strong>Melody Tips:</strong>
                <ul style="margin-top: 10px;">
                    <li>Start phrases on beat 1 or the "and" of beat 4</li>
                    <li>End phrases on chord tones (root, 3rd, 5th)</li>
                    <li>Use longer notes for emotional impact</li>
                    <li>Repeat motifs - recognition creates satisfaction</li>
                </ul>
            </div>

            <h3>Synthwave Song Structure</h3>
            <table>
                <tr>
                    <th>Section</th>
                    <th>Length</th>
                    <th>Elements</th>
                </tr>
                <tr>
                    <td>Intro</td>
                    <td>8-16 bars</td>
                    <td>Pad + light arp, build anticipation</td>
                </tr>
                <tr>
                    <td>Verse/Build</td>
                    <td>16 bars</td>
                    <td>Add drums, bass, full arp</td>
                </tr>
                <tr>
                    <td>Chorus/Drop</td>
                    <td>16 bars</td>
                    <td>Lead melody enters, everything playing</td>
                </tr>
                <tr>
                    <td>Breakdown</td>
                    <td>8 bars</td>
                    <td>Strip back to pad + simple drums</td>
                </tr>
                <tr>
                    <td>Final Chorus</td>
                    <td>16 bars</td>
                    <td>Everything back, maybe octave up the lead</td>
                </tr>
                <tr>
                    <td>Outro</td>
                    <td>8-16 bars</td>
                    <td>Gradual removal of elements</td>
                </tr>
            </table>

            <h3>Essential Synthwave Chord Progressions</h3>
            <pre><code><span class="comment">// The "Outrun" progression (minor key)</span>
i - VI - III - VII  (Am - F - C - G in A minor)

<span class="comment">// The "Emotional" progression</span>
i - iv - VI - V   (Am - Dm - F - E in A minor)

<span class="comment">// The "Driving" progression</span>
i - III - VII - IV  (Am - C - G - D in A minor)

<span class="comment">// The "Epic" progression</span>
VI - VII - i - i  (F - G - Am - Am in A minor)</code></pre>

            <div class="info-box">
                <strong>Why Minor Keys?</strong> Synthwave almost always uses minor keys because they
                create that nostalgic, melancholic-yet-hopeful feeling that defines the genre. A minor
                and E minor are popular choices - they sit well in the middle of the keyboard range.
            </div>

            <h3>Pro Tips for Authentic Synthwave</h3>
            <ul>
                <li><strong>Layer your sounds:</strong> Use Supersaw + SW Lead together for huge leads</li>
                <li><strong>Side-chain feel:</strong> Make the bass slightly shorter to let the kick punch through</li>
                <li><strong>Build tension:</strong> Drop elements before choruses, then bring everything back</li>
                <li><strong>Use the Synthwave theme:</strong> The sunset and grid visuals will inspire you!</li>
                <li><strong>Reverb simulation:</strong> Use longer release times on pads and leads</li>
                <li><strong>Crash cymbals:</strong> Add crashes on the first beat of new sections</li>
            </ul>
        </section>

        <!-- Keyboard Shortcuts -->
        <section id="shortcuts">
            <h2>Keyboard Shortcuts</h2>

            <p>Master these shortcuts to work faster:</p>

            <h3>Piano Roll Modes</h3>
            <table>
                <tr>
                    <th>Shortcut</th>
                    <th>Action</th>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">D</span></td>
                    <td>Draw mode - click to place notes</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">S</span></td>
                    <td>Select mode - click to select/move notes</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">E</span></td>
                    <td>Erase mode - click to delete notes</td>
                </tr>
            </table>

            <h3>Editing</h3>
            <table>
                <tr>
                    <th>Shortcut</th>
                    <th>Action</th>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Ctrl+Z</span></td>
                    <td>Undo - reverse your last action (up to 50 levels!)</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Ctrl+Y</span></td>
                    <td>Redo - undo your undo</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Ctrl+A</span></td>
                    <td>Select all notes in the pattern</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Ctrl+C</span></td>
                    <td>Copy selected note(s)</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Ctrl+V</span></td>
                    <td>Paste preview - ghost notes follow mouse, click to place!</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Ctrl+X</span></td>
                    <td>Cut (copy and delete)</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Delete</span> / <span class="keyboard-shortcut">Backspace</span></td>
                    <td>Delete selected note(s)</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Click + Drag</span> (multi-select)</td>
                    <td>Drag all selected notes together - preserves relative positions!</td>
                </tr>
                <tr>
                    <td><span class="keyboard-shortcut">Escape</span></td>
                    <td>Deselect all notes / Cancel paste preview</td>
                </tr>
            </table>

            <h3>Multi-Select & Paste Preview</h3>
            <div class="tip-box">
                <strong>Box Selection:</strong> In Select mode, click and drag on empty space to draw a
                selection box. All notes inside will be selected. You can then copy, cut, delete, or
                move them all together!<br><br>
                <strong>Select All:</strong> Press <span class="keyboard-shortcut">Ctrl+A</span> to instantly
                select every note in the pattern.<br><br>
                <strong>Paste Preview (Ghost Notes):</strong> When you press Ctrl+V, semi-transparent ghost
                notes appear following your mouse cursor. This lets you:<br>
                - See exactly where notes will be placed before committing<br>
                - <strong>Transpose to different octaves</strong> by moving up/down<br>
                - Click to place, or press Escape to cancel<br><br>
                <strong>Dynamic Timeline:</strong> The piano roll grid automatically extends as you add notes
                beyond the original pattern length. A red line shows the original pattern boundary.
            </div>
        </section>

        <!-- Advanced -->
        <section id="advanced">
            <h2>Advanced Topics</h2>

            <h3>How Sound Synthesis Works</h3>
            <p>Understanding how ChiptuneTracker generates sound helps you make better music:</p>

            <ol>
                <li><strong>Oscillator</strong> generates a basic waveform (pulse, triangle, etc.)</li>
                <li><strong>ADSR Envelope</strong> shapes the volume over time</li>
                <li><strong>Effects</strong> modify the sound (bitcrusher, filter, delay)</li>
                <li><strong>Mixer</strong> combines all channels at their set volumes and panning</li>
                <li><strong>Master</strong> applies final volume and soft clipping</li>
            </ol>

            <h3>Per-Note Sound Types</h3>
            <p>A powerful feature: each note remembers which oscillator type created it. This means:</p>
            <ul>
                <li>You can mix different sounds in the same channel</li>
                <li>Switching the palette selection doesn't change existing notes</li>
                <li>You can have drums and melodies playing simultaneously</li>
            </ul>

            <h3>Understanding the Code</h3>
            <p>For those who want to modify sounds, here's the file structure:</p>
            <table>
                <tr>
                    <th>File</th>
                    <th>What It Does</th>
                </tr>
                <tr>
                    <td><code>Types.h</code></td>
                    <td>Data structures - Note, Pattern, ADSR Envelope, UI State</td>
                </tr>
                <tr>
                    <td><code>Synthesizer.h</code></td>
                    <td>Sound generation - oscillators, drum synthesis, envelopes</td>
                </tr>
                <tr>
                    <td><code>Sequencer.h</code></td>
                    <td>Playback engine - schedules notes, handles timing</td>
                </tr>
                <tr>
                    <td><code>UI.h</code></td>
                    <td>User interface - piano roll, palette, controls</td>
                </tr>
                <tr>
                    <td><code>Effects.h</code></td>
                    <td>Audio effects - bitcrusher, filter, delay</td>
                </tr>
            </table>

            <h3>How Drum Synthesis Works (v2.6.0)</h3>
            <p>Understanding the drum engine helps you get the most authentic sounds. Here's what makes each drum type special:</p>

            <div class="param-grid">
                <div class="param-card">
                    <h4>Kick Drums - Pitch Sweep</h4>
                    <p>Real kicks have a characteristic "thump" from rapid pitch drop. ChiptuneTracker simulates this with:</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>Start frequency:</strong> 150Hz (the "attack")</li>
                        <li><strong>End frequency:</strong> 45-50Hz (the "body")</li>
                        <li><strong>Sweep speed:</strong> Exponential decay (~40ms)</li>
                        <li><strong>Saturation:</strong> tanh() for analog warmth</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Snares - Noise + Tone</h4>
                    <p>Snares combine tonal "body" with noise "crack":</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>Body:</strong> 200Hz sine wave (quick decay)</li>
                        <li><strong>Crack:</strong> LFSR noise (short mode = brighter)</li>
                        <li><strong>Click:</strong> 2ms transient at start</li>
                        <li><strong>Mix:</strong> ~60% noise, ~25% tone, ~15% click</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Hi-Hats - Metallic Ring</h4>
                    <p>Hi-hats use inharmonic frequencies for metallic character:</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>Base:</strong> 1200Hz metallic ring</li>
                        <li><strong>Ratios:</strong> 1.0, 1.47, 1.83, 2.67 (non-integer = metallic)</li>
                        <li><strong>Noise:</strong> Short-mode LFSR for sizzle</li>
                        <li><strong>Decay:</strong> 40ms (closed) to 500ms (open)</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Toms - Pitched Membrane</h4>
                    <p>Toms simulate drum membrane resonance:</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>Pitch sweep:</strong> 180Hz  100Hz (creates "bom")</li>
                        <li><strong>Harmonics:</strong> 2nd harmonic at 30% for body</li>
                        <li><strong>Click:</strong> Soft 4ms attack transient</li>
                        <li><strong>Saturation:</strong> Light warmth (1.2x drive)</li>
                    </ul>
                </div>
            </div>

            <div class="tip-box">
                <strong>Technical Note:</strong> Drums bypass the standard ADSR envelope and use their own
                internal timing (envTime). This ensures consistent sound regardless of envelope settings.
                Each drum manages its own phaseIncrement for pitch control, enabling authentic pitch sweeps.
            </div>

            <h3>Modifying Drum Sounds</h3>
            <p>To customize drums, edit the generate functions in <code>Synthesizer.h</code>:</p>
            <pre><code><span class="comment">// Key parameters to tweak:</span>

<span class="comment">// Decay rate - higher = shorter sound</span>
<span class="keyword">float</span> envelope = std::<span class="function">exp</span>(-noteTime * <span class="number">40.0f</span>);
<span class="comment">// Try 20.0f for longer, 60.0f for shorter</span>

<span class="comment">// Pitch envelope for kicks/toms</span>
<span class="keyword">float</span> freq = <span class="number">50.0f</span> + <span class="number">100.0f</span> * pitchEnv;
<span class="comment">// Start freq + range * envelope</span>

<span class="comment">// Click transient duration</span>
<span class="keyword">if</span> (noteTime < <span class="number">0.002f</span>) { ... }
<span class="comment">// 0.002 = 2ms, try 0.005 for more click</span></code></pre>

            <div class="warning-box">
                <strong>Audio Thread Warning:</strong> Sound generation runs in a separate thread.
                Avoid memory allocations (new, malloc, vector resize) in audio code to prevent
                glitches. All synthesis uses pre-allocated fixed-size arrays.
            </div>
        </section>

        <!-- v2.7.0 Features -->
        <section id="v270-features">
            <h2>New in v2.7.0 - Workflow & Groove</h2>

            <h3>Window Layout</h3>
            <p>ChiptuneTracker v2.7.0 introduces a <strong>proper initial window layout</strong> that organizes
            all windows in logical positions on first launch. No more overlapping windows!</p>

            <div class="param-grid">
                <div class="param-card">
                    <h4>Top Row</h4>
                    <p><strong>Transport</strong> (10, 10) - Play, Stop, Record, BPM, and Swing controls</p>
                    <p><strong>File</strong> (370, 10) - Save, Load, Export, Sample Tracks</p>
                    <p><strong>Views</strong> (780, 10) - Theme selection and view toggles</p>
                </div>
                <div class="param-card">
                    <h4>Left Column</h4>
                    <p><strong>Sound Palette</strong> (10, 140) - All oscillators, synths, drums organized in expandable categories</p>
                    <p><strong>Patterns</strong> (10, 650) - Pattern list and management</p>
                    <p><strong>Pad Controller</strong> (10, 860) - MPC-style drum pads</p>
                </div>
                <div class="param-card">
                    <h4>Main Area</h4>
                    <p><strong>Piano Roll</strong> (220, 140) - The main composition area with note editing</p>
                    <p>900x500 pixels - plenty of space for complex melodies!</p>
                </div>
                <div class="param-card">
                    <h4>Right Column</h4>
                    <p><strong>Note Editor</strong> (1130, 140) - Edit selected note properties, vibrato, arpeggio</p>
                    <p><strong>Channel Editor</strong> (1130, 450) - Oscillator settings and effects</p>
                </div>
                <div class="param-card">
                    <h4>Bottom Row</h4>
                    <p><strong>Mixer</strong> (220, 650) - 8-channel mixer with volume, pan, mute/solo</p>
                    <p><strong>Tracker</strong> (930, 650) - Traditional tracker view</p>
                    <p><strong>Arrangement</strong> (220, 860) - Song timeline for arranging patterns</p>
                </div>
            </div>

            <div class="tip-box">
                <strong>Tip:</strong> To reset to the default layout, delete <code>imgui.ini</code> from the
                application folder and restart. ImGui will recreate it with the default positions.
            </div>

            <h3>Swing & Humanize (Groove System)</h3>
            <p>Add life and groove to your music with the new <strong>Swing</strong> and <strong>Humanize</strong>
            controls in the Transport window. These features transform robotic patterns into groovy, human-feeling beats.</p>

            <div class="param-grid">
                <div class="param-card">
                    <h4>Swing (0-100%)</h4>
                    <p>Shifts off-beat notes forward in time, creating a shuffle or swing feel. Common in jazz, funk, hip-hop, and house music.</p>
                    <div class="range">
                        <span>0% = Straight</span>
                        <span>100% = Triplet</span>
                    </div>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>0%</strong> - Perfectly straight timing</li>
                        <li><strong>30-50%</strong> - Light shuffle (great for house/techno)</li>
                        <li><strong>60-75%</strong> - Strong shuffle (hip-hop, funk)</li>
                        <li><strong>100%</strong> - Maximum triplet feel (jazz swing)</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Swing Grid</h4>
                    <p>Determines which notes are affected by swing. Swing shifts the "off-beat" notes in each pair.</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>1/8 (8th notes)</strong> - Swings every other 8th note (classic swing)</li>
                        <li><strong>1/16 (16th notes)</strong> - Swings 16th note hi-hats (modern groove)</li>
                        <li><strong>1/32 (32nd notes)</strong> - Subtle micro-timing shifts</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Humanize</h4>
                    <p>Adds random variation to timing and velocity, making patterns feel less robotic and more organic.</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>Timing</strong> (0-50ms) - Random early/late shifts</li>
                        <li><strong>Velocity</strong> (0-30%) - Random loud/soft variation</li>
                    </ul>
                    <p style="margin-top: 8px;"><em>Try 10-20ms timing and 10-15% velocity for natural feel without sloppiness.</em></p>
                </div>
            </div>

            <pre><code><span class="comment">// How swing works internally:</span>
Beat:    1   +   2   +   3   +   4   +
Normal:  X   X   X   X   X   X   X   X
50% Swing: X    X  X    X  X    X  X    X
<span class="comment">//         ^ off-beats shift forward</span>

<span class="comment">// Swing formula (for nerds):</span>
swingOffset = gridSize * swingAmount * 0.333
<span class="comment">// At 100% swing, off-beats shift by 1/3 of the grid</span></code></pre>

            <h3>Hi-Hat Roll Generator</h3>
            <p>Quickly create hi-hat rolls and fills with the <strong>Hi-Hat Roll Generator</strong> tool
            in the Piano Roll toolbar. Perfect for drum fills, build-ups, and rapid hi-hat patterns.</p>

            <div class="param-grid">
                <div class="param-card">
                    <h4>How to Use</h4>
                    <ol style="margin-top: 8px; font-size: 0.9em;">
                        <li>Select a region in the piano roll (or it uses the visible range)</li>
                        <li>Click the "Hi-Hat Roll" button in the toolbar</li>
                        <li>Choose density, velocity mode, and hi-hat type</li>
                        <li>Click "Generate" to fill the region</li>
                    </ol>
                </div>
                <div class="param-card">
                    <h4>Density Options</h4>
                    <p>How many hi-hats per beat:</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>8th notes</strong> - 2 per beat (basic groove)</li>
                        <li><strong>16th notes</strong> - 4 per beat (standard)</li>
                        <li><strong>32nd notes</strong> - 8 per beat (fast fills)</li>
                        <li><strong>64th notes</strong> - 16 per beat (machine-gun rolls!)</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Velocity Modes</h4>
                    <p>Control the dynamics of the roll:</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>Flat</strong> - All same velocity (100%)</li>
                        <li><strong>Crescendo</strong> - Builds up from soft to loud</li>
                        <li><strong>Decrescendo</strong> - Fades from loud to soft</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Hi-Hat Types</h4>
                    <p>Which hi-hat sound to use:</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>Closed</strong> - Tight, crisp (most common)</li>
                        <li><strong>Open</strong> - Longer, washy decay</li>
                        <li><strong>Pedal</strong> - Foot-controlled, short</li>
                    </ul>
                </div>
            </div>

            <div class="tip-box">
                <strong>Pro Tip:</strong> Create a 32nd note crescendo roll at the end of every 4 bars
                to build energy before a drop. Use 64th notes sparingly for climactic moments!
            </div>

            <h3>Sidechain Compression</h3>
            <p>Create the classic <strong>EDM "pumping" effect</strong> where one channel ducks in volume
            when another plays. The most common use is making the bass duck when the kick drum hits,
            creating that rhythmic pulsing feel heard in house, trance, and electronic music.</p>

            <div class="param-grid">
                <div class="param-card">
                    <h4>How It Works</h4>
                    <p>Sidechain compression reduces one channel's volume based on another channel's audio level:</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>Source</strong> - The channel that triggers ducking (usually kick)</li>
                        <li><strong>Target</strong> - The channel that gets ducked (usually bass/pads)</li>
                        <li>When source plays loud  target gets quieter</li>
                        <li>When source is silent  target returns to normal</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Parameters</h4>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>Threshold</strong> - Source level to trigger ducking (-40 to 0 dB)</li>
                        <li><strong>Ratio</strong> - How much to reduce (1:1 to 20:1)</li>
                        <li><strong>Attack</strong> - How fast ducking kicks in (1-50ms)</li>
                        <li><strong>Release</strong> - How fast volume returns (10-500ms)</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Presets</h4>
                    <p>Quick settings for common effects:</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>Subtle</strong> (-5dB) - Light pumping, barely noticeable</li>
                        <li><strong>Normal</strong> (-10dB) - Standard sidechain (recommended)</li>
                        <li><strong>Heavy</strong> (-15dB) - Strong pumping effect</li>
                        <li><strong>Pumping</strong> (-20dB) - Extreme effect for EDM/trance</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Setup Guide</h4>
                    <ol style="margin-top: 8px; font-size: 0.9em;">
                        <li>Put kick drum on Channel 1</li>
                        <li>Put bass on Channel 2</li>
                        <li>Open Channel Editor for Channel 2</li>
                        <li>Enable "Sidechain" effect</li>
                        <li>Set Source to Channel 1</li>
                        <li>Choose a preset or adjust parameters</li>
                    </ol>
                </div>
            </div>

            <pre><code><span class="comment">// Sidechain compression formula:</span>
<span class="keyword">if</span> (sourceLevel > threshold) {
    gainReduction = (sourceLevel - threshold) / ratio;
    output = input * (1.0 - gainReduction);
}

<span class="comment">// Envelope follower for smooth transitions:</span>
envelope = mix(envelope, sourceLevel, attack/release);
<span class="comment">// Fast attack, slow release = classic pump</span></code></pre>

            <div class="tip-box">
                <strong>Creative Uses:</strong>
                <ul>
                    <li>Bass ducking from kick (classic EDM pump)</li>
                    <li>Pads ducking from snare (tighter mix)</li>
                    <li>All synths ducking from kick (dramatic effect)</li>
                    <li>Lead ducking from vocals (when adding vocals later)</li>
                </ul>
            </div>
        </section>

        <!-- Chiptune Music Making Guide -->
        <section id="chiptune-guide">
            <h2>Chiptune Music Making Guide - NES Effects</h2>

            <p>This guide covers the <strong>authentic NES/Famicom sound effects</strong> available in ChiptuneTracker v2.8.1.
            These effects replicate the hardware capabilities of the Nintendo 2A03 sound chip, giving you the tools to
            create music that sounds like it came straight from an 8-bit cartridge.</p>

            <h3>What Makes Chiptune Sound "Chiptune"?</h3>
            <p>The distinctive sound of NES music comes from hardware limitations that became artistic features:</p>

            <div class="param-grid">
                <div class="param-card">
                    <h4>Limited Channels</h4>
                    <p>The NES had only <strong>5 sound channels</strong>:</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>2 Pulse waves</strong> - Main melodies and harmonies</li>
                        <li><strong>1 Triangle wave</strong> - Bass and sub-bass</li>
                        <li><strong>1 Noise channel</strong> - Drums and percussion</li>
                        <li><strong>1 DPCM sample</strong> - Sampled sounds (limited)</li>
                    </ul>
                    <p style="margin-top: 8px; font-style: italic;">Composers had to be creative with just these 5 channels!</p>
                </div>
                <div class="param-card">
                    <h4>Pulse Wave Magic</h4>
                    <p>The NES pulse channels could only produce <strong>4 duty cycle settings</strong>, each with a distinct character:</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>12.5%</strong> - Thin, nasal, "twangy"</li>
                        <li><strong>25%</strong> - Hollow, woody</li>
                        <li><strong>50%</strong> - Full, rich square wave</li>
                        <li><strong>75%</strong> - Same as 25% (inverted)</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>The Sweep Unit</h4>
                    <p>Each pulse channel had a <strong>hardware sweep unit</strong> that could automatically bend pitch up or down.
                    This created the iconic laser sounds, power-up effects, and melodic bends heard in classic games.</p>
                </div>
            </div>

            <h3>Duty Cycle - The Soul of Chiptune</h3>
            <p>The <strong>duty cycle</strong> controls how much of each wave cycle is "on" versus "off". This dramatically
            changes the harmonic content and character of the sound. In ChiptuneTracker, you can set duty cycle per-note!</p>

            <div class="param-grid">
                <div class="param-card">
                    <h4>12.5% Duty Cycle</h4>
                    <p><strong>Character:</strong> Thin, reedy, twangy, nasal</p>
                    <p><strong>Best for:</strong></p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li>Lead melodies that cut through</li>
                        <li>Plucky arpeggios</li>
                        <li>Classic "NES lead" sound</li>
                        <li>High-pitched chip effects</li>
                    </ul>
                    <p style="margin-top: 8px;"><em>Famous uses: Mega Man themes, Castlevania melodies</em></p>
                </div>
                <div class="param-card">
                    <h4>25% Duty Cycle</h4>
                    <p><strong>Character:</strong> Hollow, woody, slightly nasal</p>
                    <p><strong>Best for:</strong></p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li>Secondary melodies/harmonies</li>
                        <li>Woodwind-like sounds</li>
                        <li>Softer leads</li>
                        <li>Background arpeggios</li>
                    </ul>
                    <p style="margin-top: 8px;"><em>Great for layering with 12.5% leads!</em></p>
                </div>
                <div class="param-card">
                    <h4>50% Duty Cycle</h4>
                    <p><strong>Character:</strong> Full, rich, classic square wave</p>
                    <p><strong>Best for:</strong></p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li>Powerful leads</li>
                        <li>Bass lines (octave below)</li>
                        <li>Pad-like sustained notes</li>
                        <li>Classic video game sound</li>
                    </ul>
                    <p style="margin-top: 8px;"><em>The "default" chiptune sound</em></p>
                </div>
                <div class="param-card">
                    <h4>75% Duty Cycle</h4>
                    <p><strong>Character:</strong> Same as 25% (inverted phase)</p>
                    <p><strong>Best for:</strong></p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li>Layering with 25% for thickness</li>
                        <li>Phase variation effects</li>
                        <li>Subtle timbral differences</li>
                    </ul>
                    <p style="margin-top: 8px;"><em>Sounds identical to 25%, useful for phase tricks</em></p>
                </div>
            </div>

            <div class="tip-box">
                <strong>Pro Tip - Duty Cycle Modulation:</strong> Classic NES composers would often switch duty cycles
                <em>during a note</em> for expressive effects. Try starting a note at 12.5% and switching to 50% for
                the sustain portion - this creates a "wa" attack sound!
            </div>

            <h3>Pitch Sweep - Lasers, Power-ups, and Expression</h3>
            <p>The NES <strong>sweep unit</strong> automatically bends pitch up or down over time. This hardware feature
            created some of the most iconic sounds in gaming history. In ChiptuneTracker, you control sweep direction,
            speed, and range per-note.</p>

            <div class="param-grid">
                <div class="param-card">
                    <h4>Sweep Down</h4>
                    <p><strong>Pitch falls from high to low</strong></p>
                    <p style="margin-top: 8px;"><strong>Classic Uses:</strong></p>
                    <ul style="font-size: 0.9em;">
                        <li><strong>Laser/zap sounds</strong> - Fast sweep, 12+ semitones</li>
                        <li><strong>Bomb drops</strong> - Slow sweep, full range</li>
                        <li><strong>Dying enemies</strong> - Medium sweep with noise</li>
                        <li><strong>Sad melodies</strong> - Subtle 1-2 semitone dips</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Sweep Up</h4>
                    <p><strong>Pitch rises from low to high</strong></p>
                    <p style="margin-top: 8px;"><strong>Classic Uses:</strong></p>
                    <ul style="font-size: 0.9em;">
                        <li><strong>Power-up collection</strong> - Fast sweep up!</li>
                        <li><strong>Jump sounds</strong> - Quick 3-5 semitone rise</li>
                        <li><strong>Question/curiosity</strong> - Gentle upward bend</li>
                        <li><strong>Victory fanfares</strong> - Dramatic rising notes</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Sweep Parameters</h4>
                    <p><strong>Speed:</strong> How fast the pitch changes</p>
                    <ul style="font-size: 0.9em; margin-top: 8px;">
                        <li><strong>Fast (0.1-0.3)</strong> - Instant zap effects</li>
                        <li><strong>Medium (0.5-1.0)</strong> - Musical bends</li>
                        <li><strong>Slow (2.0+)</strong> - Gradual slides</li>
                    </ul>
                    <p style="margin-top: 12px;"><strong>Amount:</strong> Total semitones to sweep</p>
                    <ul style="font-size: 0.9em; margin-top: 8px;">
                        <li><strong>1-2</strong> - Subtle expression</li>
                        <li><strong>5-7</strong> - Noticeable bend</li>
                        <li><strong>12+</strong> - Dramatic effect (full octave)</li>
                    </ul>
                </div>
            </div>

            <h4>Classic Sweep Effect Recipes</h4>
            <pre><code><span class="comment">// LASER ZAP (Mega Man style)</span>
Oscillator: Pulse (12.5%)
Sweep: Down
Speed: 0.15 (very fast)
Amount: 24 semitones (2 octaves)
Duration: 0.1 beats
<span class="comment">// Result: Classic "pew pew" sound!</span>

<span class="comment">// POWER-UP COLLECT (Mario coin)</span>
Oscillator: Pulse (50%)
Sweep: Up
Speed: 0.2
Amount: 12 semitones (1 octave)
Duration: 0.25 beats
<span class="comment">// Play two notes: C5, then E5 with sweep</span>

<span class="comment">// ENEMY DEATH</span>
Oscillator: Pulse (25%)
Sweep: Down
Speed: 0.5
Amount: 18 semitones
Duration: 0.5 beats
<span class="comment">// Add noise hit at same time for impact</span>

<span class="comment">// EXPRESSIVE MELODY BEND</span>
<span class="comment">// For sad/emotional passages</span>
Oscillator: Pulse (50%)
Sweep: Down
Speed: 2.0 (slow)
Amount: 2 semitones
<span class="comment">// Gives notes a "crying" quality</span>

<span class="comment">// RISING TENSION</span>
Oscillator: Triangle
Sweep: Up
Speed: 3.0 (very slow)
Amount: 5 semitones
Duration: 4 beats
<span class="comment">// Great for building anticipation</span></code></pre>

            <h3>Tremolo - Vibrating Volume</h3>
            <p><strong>Tremolo</strong> modulates volume at a regular rate, creating a wavering, pulsing effect.
            While not a native NES hardware feature, it was often simulated by composers and adds expressiveness to chiptune.</p>

            <div class="param-grid">
                <div class="param-card">
                    <h4>Tremolo Depth</h4>
                    <p>How much the volume varies (0-100%)</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>10-20%</strong> - Subtle shimmer</li>
                        <li><strong>30-50%</strong> - Noticeable pulse</li>
                        <li><strong>60-80%</strong> - Dramatic throb</li>
                        <li><strong>100%</strong> - Full on/off gating</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Tremolo Speed</h4>
                    <p>How fast the volume oscillates (Hz)</p>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>2-4 Hz</strong> - Slow, dramatic pulse</li>
                        <li><strong>5-8 Hz</strong> - Classic tremolo</li>
                        <li><strong>10-15 Hz</strong> - Fast shimmer</li>
                        <li><strong>20+ Hz</strong> - Ring modulation feel</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Best Uses for Tremolo</h4>
                    <ul style="margin-top: 8px; font-size: 0.9em;">
                        <li><strong>Sustained pads</strong> - Add movement</li>
                        <li><strong>Danger/tension</strong> - Fast, deep tremolo</li>
                        <li><strong>Mystical sounds</strong> - Slow, subtle</li>
                        <li><strong>Alarm effects</strong> - Fast pulse</li>
                        <li><strong>Boss music</strong> - Dramatic throb</li>
                    </ul>
                </div>
            </div>

            <h3>Classic Chiptune Patterns & Techniques</h3>
            <p>Learn the patterns that defined 8-bit music:</p>

            <h4>1. The Arpeggio Chord</h4>
            <p>With limited channels, NES composers couldn't play real chords. Instead, they rapidly cycled through
            chord notes (arpeggio) to create the <em>illusion</em> of a chord:</p>
            <pre><code><span class="comment">// C Major Arpeggio (sounds like a chord)</span>
Beat 1.00: C4
Beat 1.08: E4
Beat 1.16: G4
Beat 1.25: C4
Beat 1.33: E4
Beat 1.41: G4
<span class="comment">// etc... cycles through C-E-G rapidly</span>

<span class="comment">// Use the Arpeggio effect in Note Editor!</span>
Speed: 8-12 (fast enough to blur into chord)
Pattern: Major (root, +4, +7 semitones)</code></pre>

            <h4>2. Echo/Delay Technique</h4>
            <p>Create fake echo by duplicating notes on another channel at lower velocity:</p>
            <pre><code><span class="comment">// Channel 1 (Main melody, full velocity)</span>
Beat 1.0: C5 (vel 100%)
Beat 2.0: E5 (vel 100%)
Beat 3.0: G5 (vel 100%)

<span class="comment">// Channel 2 (Echo, softer, delayed)</span>
Beat 1.25: C5 (vel 40%)
Beat 2.25: E5 (vel 40%)
Beat 3.25: G5 (vel 40%)

<span class="comment">// Tip: Use different duty cycles for depth!</span>
<span class="comment">// Main = 12.5%, Echo = 50%</span></code></pre>

            <h4>3. The Triangle Bass</h4>
            <p>Triangle waves were THE bass sound on NES. They have no harmonics (pure tone) and provide solid low end:</p>
            <pre><code><span class="comment">// Classic Triangle Bass Pattern</span>
Oscillator: Triangle
Octave: 2-3 (C2-C3 range)

<span class="comment">// Root-Fifth pattern (very common)</span>
Beat 1.0: C2
Beat 1.5: G2
Beat 2.0: C2
Beat 2.5: G2

<span class="comment">// Octave jump bass (adds energy)</span>
Beat 1.0: C2
Beat 1.5: C3
Beat 2.0: C2
Beat 2.5: C3</code></pre>

            <h4>4. Noise Drums</h4>
            <p>All NES drums came from the noise channel. Here are the classic patterns:</p>
            <pre><code><span class="comment">// Basic Rock Beat</span>
Beat 1.0: Kick
Beat 1.5: HiHat
Beat 2.0: Snare
Beat 2.5: HiHat
Beat 3.0: Kick
Beat 3.5: HiHat
Beat 4.0: Snare
Beat 4.5: HiHat

<span class="comment">// Driving 8-bit (Mega Man style)</span>
Beat 1.0: Kick + HiHat
Beat 1.25: HiHat
Beat 1.5: HiHat
Beat 1.75: HiHat
Beat 2.0: Snare + HiHat
<span class="comment">// ... repeat with constant hi-hats</span>

<span class="comment">// Tip: Short noise = hi-hat, Long noise = snare</span></code></pre>

            <h4>5. Duty Cycle Layering</h4>
            <p>Use both pulse channels with different duty cycles for a fuller sound:</p>
            <pre><code><span class="comment">// Thick Lead (two channels)</span>
Channel 1: Pulse 12.5% - Melody
Channel 2: Pulse 50% - Same melody, or harmony

<span class="comment">// The 12.5% cuts through while 50% adds body</span>
<span class="comment">// Try detuning Channel 2 slightly for chorus effect!</span></code></pre>

            <h3>Famous Game Music Techniques</h3>

            <div class="param-grid">
                <div class="param-card">
                    <h4>Mega Man Style</h4>
                    <ul style="font-size: 0.9em;">
                        <li>12.5% duty for piercing leads</li>
                        <li>Fast arpeggios for "chords"</li>
                        <li>Driving hi-hat on every 8th note</li>
                        <li>Sweep down for death sounds</li>
                        <li>High energy, fast tempo (150+ BPM)</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Castlevania Style</h4>
                    <ul style="font-size: 0.9em;">
                        <li>Gothic minor keys</li>
                        <li>Heavy use of vibrato</li>
                        <li>Dramatic sweep effects</li>
                        <li>25% duty for mysterious sound</li>
                        <li>Complex counterpoint melodies</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Mario Style</h4>
                    <ul style="font-size: 0.9em;">
                        <li>Bouncy, syncopated rhythms</li>
                        <li>50% duty for friendly sound</li>
                        <li>Sweep up for coin/power-up</li>
                        <li>Triangle bass bouncing octaves</li>
                        <li>Major keys, upbeat feel</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Zelda Style</h4>
                    <ul style="font-size: 0.9em;">
                        <li>Melodic and adventurous</li>
                        <li>Mix of major/minor modes</li>
                        <li>Slow tremolo for mystery</li>
                        <li>Simple but memorable themes</li>
                        <li>Echo effects for atmosphere</li>
                    </ul>
                </div>
            </div>

            <h3>Quick Reference: Effect Combinations</h3>
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                <thead>
                    <tr style="background: rgba(0,255,65,0.2);">
                        <th style="padding: 10px; text-align: left; border: 1px solid var(--matrix-green);">Sound</th>
                        <th style="padding: 10px; text-align: left; border: 1px solid var(--matrix-green);">Duty</th>
                        <th style="padding: 10px; text-align: left; border: 1px solid var(--matrix-green);">Sweep</th>
                        <th style="padding: 10px; text-align: left; border: 1px solid var(--matrix-green);">Tremolo</th>
                        <th style="padding: 10px; text-align: left; border: 1px solid var(--matrix-green);">Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Classic Lead</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">12.5%</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">None</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">None</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Add vibrato for expression</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Laser Zap</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">12.5%</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Down, Fast, 24st</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">None</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Short duration</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Power-Up</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">50%</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Up, Fast, 12st</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">None</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Two quick notes</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Sad Melody</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">25%</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Down, Slow, 2st</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">20%, 4Hz</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Minor key</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Alarm/Danger</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">50%</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">None</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">80%, 8Hz</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">High pitch, repeat</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Boss Theme</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">12.5%</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Down, Med, 5st</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">40%, 6Hz</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Minor key, intense</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Mystery/Cave</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">25%</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">None</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">30%, 3Hz</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Slow tempo, sparse</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Jump Sound</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">50%</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Up, Fast, 5st</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">None</td>
                        <td style="padding: 8px; border: 1px solid var(--matrix-green);">Very short</td>
                    </tr>
                </tbody>
            </table>

            <div class="tip-box">
                <strong>Remember:</strong> The magic of chiptune isn't about having the most effects - it's about
                <em>creative constraints</em>. The NES had severe limitations, and composers turned those into art.
                Start simple, use effects sparingly, and focus on memorable melodies!
            </div>
        </section>

        <!-- Tools Panel -->
        <section id="tools">
            <h2>Tools Panel - Production Tools</h2>

            <p>The Tools Panel provides 9 powerful production tools to speed up your music creation workflow.
            Access it from the Views menu or use it alongside the piano roll for rapid composition.</p>

            <h3>1. Drum Pattern Generator</h3>
            <div class="info-box">
                <strong>What is a Drum Pattern?</strong><br>
                A drum pattern is a repeating sequence of drum hits that forms the rhythmic foundation of a song.
                In most music, drums follow predictable patterns - the kick drum (bass drum) typically hits on beats
                1 and 3, while the snare hits on beats 2 and 4. Hi-hats fill in between. Different genres have
                distinct drum patterns - synthwave uses electronic 80s-style drums, techno has a steady
                "four-on-the-floor" kick pattern, and so on. This tool creates these patterns automatically
                so you don't have to place each drum hit manually!
            </div>
            <p>Create genre-specific drum patterns instantly with a single click.</p>
            <div class="param-grid">
                <div class="param-card">
                    <h4>Genre Presets</h4>
                    <p>Choose from 6 classic styles:</p>
                    <ul>
                        <li><strong>Synthwave</strong> - 80s electronic drums</li>
                        <li><strong>Outrun</strong> - Driving chase music</li>
                        <li><strong>Darksynth</strong> - Heavy, aggressive</li>
                        <li><strong>Italo Disco</strong> - Euro dance beats</li>
                        <li><strong>Techno</strong> - Four-on-the-floor</li>
                        <li><strong>Retrowave</strong> - Classic 80s pop</li>
                    </ul>
                </div>
                <div class="param-card">
                    <h4>Controls</h4>
                    <p><strong>Density (25-100%):</strong> How full the pattern is - lower for minimal, higher for busy</p>
                    <p><strong>Variation (0-100%):</strong> Adds fills and ghost notes for interest</p>
                    <p>Click "Generate" to create a new pattern. Clears existing notes!</p>
                </div>
            </div>

            <h3>2. Arpeggiator</h3>
            <div class="info-box">
                <strong>What is an Arpeggio / Arpeggiator?</strong><br>
                An <em>arpeggio</em> is when you play the notes of a chord one at a time instead of all together.
                For example, instead of playing C-E-G simultaneously (a C major chord), you play C, then E, then G
                in sequence. This creates a flowing, melodic effect that's iconic in 80s synthwave, chiptune, and
                electronic music.<br><br>
                An <em>arpeggiator</em> automates this process - you give it a chord (or select multiple notes),
                and it converts them into a repeating pattern that cycles through each note. Think of the opening
                of "Take On Me" by A-ha or virtually any synthwave track - that's an arpeggiator at work!<br><br>
                <strong>Example:</strong> Select notes C4, E4, and G4. Apply "Up" arpeggiator at 16th notes.
                Result: C4-E4-G4-C4-E4-G4... playing rapidly, creating that classic 80s synth sound.
            </div>
            <p>Transform chords or selected notes into flowing arpeggiated sequences.</p>
            <table>
                <tr>
                    <th>Mode</th>
                    <th>Description</th>
                    <th>Best For</th>
                </tr>
                <tr>
                    <td>Up</td>
                    <td>Notes play from lowest to highest</td>
                    <td>Rising energy, classic 80s</td>
                </tr>
                <tr>
                    <td>Down</td>
                    <td>Notes play from highest to lowest</td>
                    <td>Descending lines, dramatic</td>
                </tr>
                <tr>
                    <td>Up-Down</td>
                    <td>Notes alternate up then down</td>
                    <td>Fluid, continuous motion</td>
                </tr>
                <tr>
                    <td>Random</td>
                    <td>Notes play in random order</td>
                    <td>Glitchy, experimental</td>
                </tr>
            </table>
            <p><strong>Rate:</strong> 8th, 16th, or 32nd notes. <strong>Gate:</strong> Note length (25-100% of step).</p>
            <div class="tip-box">
                <strong>How to use:</strong> First select notes in the piano roll (use Select mode),
                then click "Apply" in the Arpeggiator section. Selected notes will be converted to an arpeggio pattern.
            </div>

            <h3>3. Bass Pattern Generator</h3>
            <div class="info-box">
                <strong>What is a Bass Pattern?</strong><br>
                The bass line is the low-frequency foundation of a song - it provides the harmonic root and
                rhythmic drive. In synthwave and electronic music, bass patterns are often repetitive and
                rhythmic, locking in with the drums to create a groove.<br><br>
                <strong>Common Bass Pattern Styles:</strong>
                <ul>
                    <li><strong>Octave Pulse:</strong> Alternates between a low note and the same note one octave higher (like C2-C3-C2-C3). Classic in synthwave - creates a pumping, driving feel.</li>
                    <li><strong>Root+Fifth:</strong> Alternates between the root note and the fifth above it (C-G-C-G). This is a "power chord" bass line - strong and punchy, common in rock and EDM.</li>
                    <li><strong>Walking Bass:</strong> Moves stepwise through the scale, "walking" up or down. Jazz and funk influenced - adds melodic movement.</li>
                    <li><strong>Arp Bass:</strong> Plays the bass note in an arpeggiated pattern, similar to the arpeggiator but specifically for bass - energetic and driving.</li>
                </ul>
            </div>
            <p>Automatically create bass lines in different styles.</p>
            <div class="param-grid">
                <div class="param-card">
                    <h4>Octave Pulse</h4>
                    <p>Alternates between root and octave above. Classic synthwave bass sound.</p>
                </div>
                <div class="param-card">
                    <h4>Root+Fifth</h4>
                    <p>Power chord movement between root and fifth. Strong, punchy.</p>
                </div>
                <div class="param-card">
                    <h4>Walking</h4>
                    <p>Moves through scale tones. Jazz/funk influenced.</p>
                </div>
                <div class="param-card">
                    <h4>Arp</h4>
                    <p>Arpeggiated bass pattern. Energetic, driving.</p>
                </div>
            </div>
            <p>Select the <strong>root note</strong> (C through B) and <strong>pattern length</strong> (1-8 bars), then generate.</p>

            <h3>4. Scale Lock + Highlighting</h3>
            <div class="info-box">
                <strong>What is a Scale and Why Does It Matter?</strong><br>
                A <em>scale</em> is a set of notes that sound good together. When you play only notes from
                a scale, your music will sound harmonious and "in key." Playing notes outside the scale
                can sound jarring or "wrong" (though sometimes that's intentional for effect!).<br><br>
                <strong>The Most Common Scales:</strong>
                <ul>
                    <li><strong>Major Scale:</strong> Happy, bright, uplifting. Think of any cheerful pop song - it's probably in a major key. The "Do-Re-Mi-Fa-So-La-Ti-Do" you learned as a kid is a major scale!</li>
                    <li><strong>Minor Scale:</strong> Sad, dark, emotional. Most synthwave, horror music, and dramatic pieces use minor keys. It has that melancholic, mysterious vibe.</li>
                    <li><strong>Dorian:</strong> Minor-ish but with a raised 6th, giving it a hopeful quality. Very popular in jazz and 80s pop.</li>
                    <li><strong>Phrygian:</strong> Has a Spanish/exotic flavor due to the flat 2nd. Great for tension and drama.</li>
                    <li><strong>Lydian:</strong> Dreamy and ethereal - the raised 4th gives it a floating, sci-fi quality.</li>
                    <li><strong>Mixolydian:</strong> Major but with a flat 7th - sounds bluesy and rock-oriented.</li>
                </ul>
                <strong>How Scale Lock Helps:</strong> Enable "Snap-to-Scale" and any note you place will automatically
                move to the nearest note in your chosen scale - you literally can't play a wrong note!
            </div>
            <p>Stay in key effortlessly! This tool highlights scale notes in the piano roll and can snap your notes to the scale.</p>
            <table>
                <tr>
                    <th>Scale</th>
                    <th>Intervals</th>
                    <th>Character</th>
                </tr>
                <tr>
                    <td>Major</td>
                    <td>W-W-H-W-W-W-H</td>
                    <td>Happy, bright, triumphant</td>
                </tr>
                <tr>
                    <td>Minor</td>
                    <td>W-H-W-W-H-W-W</td>
                    <td>Sad, dark, mysterious</td>
                </tr>
                <tr>
                    <td>Dorian</td>
                    <td>W-H-W-W-W-H-W</td>
                    <td>Minor but hopeful, jazzy</td>
                </tr>
                <tr>
                    <td>Phrygian</td>
                    <td>H-W-W-W-H-W-W</td>
                    <td>Spanish, exotic, tense</td>
                </tr>
                <tr>
                    <td>Lydian</td>
                    <td>W-W-W-H-W-W-H</td>
                    <td>Dreamy, floating, ethereal</td>
                </tr>
                <tr>
                    <td>Mixolydian</td>
                    <td>W-W-H-W-W-H-W</td>
                    <td>Rock, bluesy major</td>
                </tr>
                <tr>
                    <td>Locrian</td>
                    <td>H-W-W-H-W-W-W</td>
                    <td>Unstable, rarely used</td>
                </tr>
            </table>
            <p><strong>Highlight:</strong> Shows scale notes visually in piano roll. <strong>Snap-to-Scale:</strong> Automatically corrects notes to nearest scale tone.</p>

            <h3>5. Velocity Curve Painter</h3>
            <div class="info-box">
                <strong>What is Velocity and Why Paint a Curve?</strong><br>
                <em>Velocity</em> in music refers to how hard a note is played - on a real piano, hitting a key
                harder produces a louder sound. In digital music, velocity is a value from 0 (silent) to 127 (maximum),
                and it affects both the volume and often the brightness/character of a sound.<br><br>
                <strong>What is a Velocity Curve?</strong><br>
                Instead of all notes having the same velocity (which sounds robotic and flat), a velocity curve
                smoothly changes velocity across a sequence of notes. This creates musical dynamics:<br>
                <ul>
                    <li><strong>Crescendo:</strong> Getting louder - velocity increases from soft to loud (like an orchestra building to a climax)</li>
                    <li><strong>Decrescendo:</strong> Getting softer - velocity decreases from loud to soft (a phrase fading away)</li>
                    <li><strong>Accent patterns:</strong> Emphasizing certain beats by giving them higher velocity</li>
                </ul>
                <strong>The Curve Types Explained:</strong>
                <ul>
                    <li><strong>Linear:</strong> Velocity changes at a constant rate - simple and predictable</li>
                    <li><strong>Exponential:</strong> Starts slowly, then rapidly increases at the end - dramatic tension builds!</li>
                    <li><strong>Logarithmic:</strong> Rises quickly at first, then levels off - quick punch, gradual sustain</li>
                    <li><strong>S-Curve:</strong> Eases in and out smoothly - the most natural-sounding transition</li>
                </ul>
            </div>
            <p>Shape dynamics across selected notes for crescendos, decrescendos, and dynamic expression.</p>
            <div class="param-grid">
                <div class="param-card">
                    <h4>Linear</h4>
                    <p>Straight line from start to end velocity. Simple, predictable.</p>
                </div>
                <div class="param-card">
                    <h4>Exponential</h4>
                    <p>Slow start, rapid increase at end. Dramatic builds.</p>
                </div>
                <div class="param-card">
                    <h4>Logarithmic</h4>
                    <p>Fast start, gradual end. Quick attack, soft tail.</p>
                </div>
                <div class="param-card">
                    <h4>S-Curve</h4>
                    <p>Slow start and end, fast middle. Smooth, natural.</p>
                </div>
            </div>
            <p>Set <strong>Start Velocity</strong> and <strong>End Velocity</strong> (0.0-1.0), select notes, then click "Apply".</p>

            <h3>6. Fill Generator</h3>
            <div class="info-box">
                <strong>What is a Drum Fill?</strong><br>
                A <em>drum fill</em> is a short, attention-grabbing drum pattern that breaks from the main beat,
                typically used to transition between sections of a song (verse to chorus, chorus to bridge, etc.).
                Fills signal to the listener that something is about to change - they create anticipation and energy.<br><br>
                <strong>Common Fill Types:</strong>
                <ul>
                    <li><strong>Snare Roll:</strong> Rapid snare hits that build in speed and intensity. Think of the classic "ba-da-da-da-da-DAH!" before a chorus drops. The snare roll is the most common fill in pop and electronic music.</li>
                    <li><strong>Tom Cascade:</strong> A descending pattern across the toms (high tom -> mid tom -> low tom), creating a "rolling down the stairs" effect. Very dramatic and powerful - iconic in rock and epic music.</li>
                    <li><strong>Cymbal Crash:</strong> Building hi-hat hits that crescendo into a crash cymbal, signaling a major transition. The crash acts as a sonic "exclamation point."</li>
                    <li><strong>Build-Up:</strong> A combination of snare and hi-hat patterns that intensify together, creating maximum tension before a drop. Essential in EDM and synthwave.</li>
                </ul>
                <strong>When to Use Fills:</strong> Place fills at the end of 4-bar or 8-bar phrases, right before
                a new section begins. They're the musical equivalent of taking a breath before the next sentence!
            </div>
            <p>Add drum fills at the end of patterns for transitions and builds.</p>
            <table>
                <tr>
                    <th>Style</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>Snare Roll</td>
                    <td>Rapid snare hits building to climax</td>
                </tr>
                <tr>
                    <td>Tom Cascade</td>
                    <td>Descending toms (high to low)</td>
                </tr>
                <tr>
                    <td>Cymbal Crash</td>
                    <td>Building hi-hats with crash</td>
                </tr>
                <tr>
                    <td>Build-Up</td>
                    <td>Combined snare and hi-hat ramp</td>
                </tr>
            </table>
            <p><strong>Position:</strong> Last 1-4 beats of pattern. <strong>Density:</strong> Sparse, Medium, or Dense.</p>

            <h3>7. Pattern Variation</h3>
            <div class="info-box">
                <strong>What is Pattern Variation and Why Use It?</strong><br>
                In music, repetition is important for memorability, but too much repetition becomes boring.
                Professional producers solve this by creating <em>variations</em> - patterns that are similar
                to the original but have subtle differences to keep things interesting.<br><br>
                Instead of manually tweaking each note, the Pattern Variation tool automatically introduces
                controlled randomness to create unique versions of your patterns. This is especially useful
                when you want:<br>
                <ul>
                    <li>A drum pattern that's basically the same each bar but with tiny differences that feel more alive</li>
                    <li>A melody that repeats but with slight timing variations like a real performer</li>
                    <li>Multiple verses that share the same notes but feel slightly different each time</li>
                </ul>
                <strong>Variation Types:</strong>
                <ul>
                    <li><strong>Timing:</strong> Shifts notes slightly early or late - adds groove and human feel</li>
                    <li><strong>Velocity:</strong> Changes how hard each note is hit - adds dynamics and movement</li>
                    <li><strong>Pitch:</strong> Moves some notes up or down - creates melodic interest (careful - this can change the feel dramatically!)</li>
                    <li><strong>All:</strong> Combines all three for maximum variation</li>
                </ul>
            </div>
            <p>Create variations of existing patterns while preserving the musical structure.</p>
            <ul>
                <li><strong>Timing:</strong> Adds subtle timing shifts for groove</li>
                <li><strong>Velocity:</strong> Randomizes note volumes for dynamics</li>
                <li><strong>Pitch:</strong> Shifts some notes up/down within scale</li>
                <li><strong>All:</strong> Combines all variation types</li>
            </ul>
            <p>Use the <strong>Amount</strong> slider (0-100%) to control how dramatic the changes are.</p>

            <h3>8. Quick Layer</h3>
            <div class="info-box">
                <strong>What is Sound Layering?</strong><br>
                <em>Layering</em> is a production technique where you play the same melody or sound with multiple
                instruments simultaneously to create a bigger, fuller sound. Think of how a choir sounds more
                powerful than a single voice, or how a guitar sounds massive when you double-track it.<br><br>
                <strong>Common Layering Techniques:</strong>
                <ul>
                    <li><strong>Octave Layering:</strong> Adding the same note one or two octaves higher (+1, +2) adds brightness and "sparkle." Adding octaves below (-1, -2) adds depth and power. Many synthwave leads use both for that huge sound.</li>
                    <li><strong>Detuning:</strong> Slightly shifting the pitch of a layer by a few "cents" (1/100th of a semitone) creates a chorus-like effect - the two slightly different pitches beating against each other makes the sound wider and more alive. This is how super-saws and thick pads get their character.</li>
                    <li><strong>Velocity Scaling:</strong> Making the layer quieter than the main notes (like 70%) means it adds color without overpowering - it's felt more than heard directly.</li>
                </ul>
                <strong>Example:</strong> Take a simple lead melody. Layer it with +1 octave at 70% velocity and
                5 cents detune. Suddenly your thin lead sounds like a full synth section!
            </div>
            <p>Layer sounds for thicker textures by duplicating selected notes with modifications.</p>
            <div class="param-grid">
                <div class="param-card">
                    <h4>Octave Offset</h4>
                    <p>-2 to +2 octaves. Add sub-bass (-1, -2) or sparkle (+1, +2) layers.</p>
                </div>
                <div class="param-card">
                    <h4>Detune</h4>
                    <p>0-50 cents. Slight detuning creates chorus-like thickness.</p>
                </div>
                <div class="param-card">
                    <h4>Velocity Scale</h4>
                    <p>50-150%. Quieter layers (50-80%) for subtle doubling.</p>
                </div>
            </div>
            <div class="tip-box">
                Select notes first, then click "Layer" to create duplicates with the specified modifications.
                Great for making leads sound huge or adding sub-bass!
            </div>

            <h3>9. Humanize Selected</h3>
            <div class="info-box">
                <strong>What is Humanization?</strong><br>
                When you program music on a computer, everything is perfectly on-grid and at exact volumes.
                This sounds "mechanical" or "robotic" because real musicians never play with machine-like
                precision. There are tiny variations in timing (hitting notes slightly early or late) and
                dynamics (playing some notes harder than others).<br><br>
                <strong>Humanization</strong> adds these natural imperfections back into your music. By
                introducing small random variations in timing and velocity, your patterns feel more alive,
                organic, and less like they came from a computer.<br><br>
                <strong>When to use it:</strong>
                <ul style="margin: 0.5em 0 0 1em;">
                    <li><strong>Drum patterns:</strong> A slightly loose hi-hat feels more natural than a robotic one</li>
                    <li><strong>Piano/keyboard parts:</strong> Real pianists vary their touch constantly</li>
                    <li><strong>Any melodic line:</strong> Subtle timing shifts create "groove"</li>
                </ul>
                <br>
                <strong>Example:</strong> A hi-hat pattern at exactly 0, 0.5, 1.0, 1.5 beats sounds robotic.
                With 10ms humanization, it becomes 0.003, 0.508, 0.995, 1.512 - imperceptible individually,
                but collectively it feels "alive" and grooving.
            </div>
            <p>Add natural feel to mechanical, quantized patterns by introducing subtle random variations.</p>
            <ul>
                <li><strong>Timing Variation (0-50ms):</strong> Shifts note positions slightly earlier or later</li>
                <li><strong>Velocity Variation (0-30%):</strong> Randomizes note volumes up or down</li>
            </ul>
            <p>Start with small values (5-10ms timing, 5-10% velocity) for subtle humanization.
            Higher values create a looser, more "live" feel.</p>

            <div class="warning-box">
                <strong>Selection-Based Tools:</strong> Arpeggiator, Velocity Curve, Quick Layer, and Humanize
                all require you to select notes first (use Select mode, then drag to select).
                Without a selection, these tools won't do anything!
            </div>
        </section>

        <!-- Music Production Fundamentals -->
        <section id="production-fundamentals">
            <h2>Music Production Fundamentals</h2>
            <p>This section teaches you essential music production concepts and how to apply them using
            ChiptuneTracker's tools. Even if you've never made music before, these fundamentals will
            help you create complete, professional-sounding tracks.</p>

            <h3>Understanding Song Structure</h3>
            <div class="info-box">
                <strong>What is Song Structure?</strong><br>
                A song isn't just random sounds - it follows a blueprint that guides the listener through
                a journey. Think of it like a story with a beginning, middle, and end. Most songs follow
                predictable patterns because our brains enjoy the balance of familiarity and surprise.
            </div>
            <p>Here are the common sections you'll find in most songs:</p>
            <table>
                <tr>
                    <th>Section</th>
                    <th>Purpose</th>
                    <th>Typical Length</th>
                    <th>In ChiptuneTracker</th>
                </tr>
                <tr>
                    <td><strong>Intro</strong></td>
                    <td>Sets the mood, introduces key elements gradually</td>
                    <td>4-8 bars</td>
                    <td>Start with drums + bass, add melody later</td>
                </tr>
                <tr>
                    <td><strong>Verse</strong></td>
                    <td>Tells the story, usually calmer than chorus</td>
                    <td>8-16 bars</td>
                    <td>Simpler melody, fewer layers</td>
                </tr>
                <tr>
                    <td><strong>Chorus</strong></td>
                    <td>The "hook" - most memorable, energetic part</td>
                    <td>8-16 bars</td>
                    <td>Full arrangement, catchiest melody</td>
                </tr>
                <tr>
                    <td><strong>Bridge</strong></td>
                    <td>Contrast, breaks up repetition, builds tension</td>
                    <td>4-8 bars</td>
                    <td>Different chords, stripped-back or build-up</td>
                </tr>
                <tr>
                    <td><strong>Outro</strong></td>
                    <td>Winds down, brings closure</td>
                    <td>4-8 bars</td>
                    <td>Fade out or strip away elements</td>
                </tr>
            </table>
            <div class="tip-box">
                <strong>Common Structure:</strong> Intro  Verse  Chorus  Verse  Chorus  Bridge  Chorus  Outro<br>
                <strong>Pro Tip:</strong> Use the Patterns window to create separate patterns for each section,
                then arrange them in the Arrangement view!
            </div>

            <h3>Building Drum Patterns</h3>
            <div class="info-box">
                <strong>What are Layered Drums?</strong><br>
                In professional music production, drum sounds are often "layered" - meaning multiple drum
                sounds play at the same time to create a fuller, more impactful hit. For example, a kick
                drum might be layered with a sub-bass hit to add low-end weight, or a snare might be
                layered with a clap to add brightness.<br><br>
                <strong>Why is this important?</strong>
                <ul style="margin: 0.5em 0 0 1em;">
                    <li>Single drum samples can sound thin or weak on their own</li>
                    <li>Layering adds depth, punch, and character</li>
                    <li>Each layer can fill a different frequency range</li>
                    <li>It's the secret behind "big" sounding drums in pro tracks</li>
                </ul>
            </div>
            <p><strong>How to Layer Drums in ChiptuneTracker:</strong></p>
            <ol>
                <li>Place your main kick drum (e.g., Kick or Kick808)</li>
                <li>On the same beat, add a second kick with different character (e.g., KickHard for attack)</li>
                <li>Adjust velocity - main kick at 100%, layer at 60-80%</li>
                <li>For snares: layer Snare + Clap, or Snare + SnareRim for extra crack</li>
            </ol>

            <h4>The Basic Beat (4/4 Time)</h4>
            <div class="info-box">
                <strong>What is 4/4 Time?</strong><br>
                Most popular music uses "4/4 time" - meaning there are 4 beats per measure (or "bar").
                When you count "1, 2, 3, 4, 1, 2, 3, 4..." you're counting in 4/4 time. The kick usually
                lands on beats 1 and 3, while the snare lands on beats 2 and 4 (the "backbeat").
            </div>
            <pre><code>Beat:    1   2   3   4   1   2   3   4
Kick:    X   -   X   -   X   -   X   -
Snare:   -   X   -   X   -   X   -   X
Hi-Hat:  X X X X X X X X X X X X X X X X</code></pre>
            <p>This is the foundation of rock, pop, electronic, and most other genres!</p>

            <h4>Genre-Specific Drum Patterns</h4>
            <table>
                <tr>
                    <th>Genre</th>
                    <th>BPM Range</th>
                    <th>Key Characteristics</th>
                </tr>
                <tr>
                    <td><strong>Synthwave</strong></td>
                    <td>100-120</td>
                    <td>Gated reverb snare, steady 8th hi-hats, punchy 808 kick</td>
                </tr>
                <tr>
                    <td><strong>Chiptune</strong></td>
                    <td>120-160</td>
                    <td>Noise snare, quick arpeggios, triangle bass</td>
                </tr>
                <tr>
                    <td><strong>Reggaeton</strong></td>
                    <td>90-100</td>
                    <td>"Dembow" rhythm: kick on 1, snare on 2.5, hi-hat pattern</td>
                </tr>
                <tr>
                    <td><strong>House/EDM</strong></td>
                    <td>120-130</td>
                    <td>Four-on-floor kick, offbeat hi-hats, clap on 2 and 4</td>
                </tr>
            </table>

            <h3>Creating Melodies</h3>
            <div class="info-box">
                <strong>What Makes a Melody "Catchy"?</strong><br>
                A catchy melody is memorable, singable, and emotionally engaging. The best melodies
                balance repetition (so you remember it) with variation (so you don't get bored).
                Here are the key principles:
                <ul style="margin: 0.5em 0 0 1em;">
                    <li><strong>Stepwise Motion:</strong> Move mostly by small intervals (one or two notes apart)</li>
                    <li><strong>Occasional Leaps:</strong> Larger jumps (3+ notes) create excitement</li>
                    <li><strong>Repetition:</strong> Repeat phrases, but vary them slightly</li>
                    <li><strong>Resolution:</strong> End phrases on stable notes (the root of the chord)</li>
                    <li><strong>Rhythm:</strong> Use a mix of long and short notes</li>
                </ul>
            </div>
            <p><strong>How to Write a Melody in ChiptuneTracker:</strong></p>
            <ol>
                <li><strong>Enable Scale Lock</strong> (Tools Panel) - this ensures every note sounds good</li>
                <li><strong>Start simple</strong> - just 4-8 notes that feel right</li>
                <li><strong>Use repetition</strong> - repeat your phrase, then change the ending</li>
                <li><strong>Add rhythm</strong> - vary note lengths (use the Note Editor)</li>
                <li><strong>Layer with harmony</strong> - use Quick Layer to add notes an octave up/down</li>
            </ol>

            <h4>The "Question and Answer" Technique</h4>
            <p>One of the most effective melody techniques is "call and response" or "question and answer":</p>
            <pre><code>Phrase 1 (Question): C - D - E - G  (ends on an "unstable" note)
Phrase 2 (Answer):   G - E - D - C  (returns to the root - "resolved")</code></pre>
            <div class="tip-box">
                <strong>Try This:</strong> Write a 2-bar phrase, then copy it. Change just the last 2-3 notes
                of the copy. Now you have a question and answer!
            </div>

            <h3>The Role of Bass</h3>
            <div class="info-box">
                <strong>What Does Bass Actually Do?</strong><br>
                Bass is the bridge between rhythm (drums) and harmony (chords/melody). It:
                <ul style="margin: 0.5em 0 0 1em;">
                    <li><strong>Defines the chord:</strong> The bass note tells you what chord is playing</li>
                    <li><strong>Drives the groove:</strong> Works with the kick drum to create the "pocket"</li>
                    <li><strong>Adds weight:</strong> Low frequencies make music feel powerful</li>
                    <li><strong>Creates movement:</strong> Walking bass lines add motion and interest</li>
                </ul>
            </div>
            <p><strong>Bass Pattern Styles (Use the Bass Pattern Generator!):</strong></p>
            <table>
                <tr>
                    <th>Style</th>
                    <th>Description</th>
                    <th>Best For</th>
                </tr>
                <tr>
                    <td><strong>Root Notes</strong></td>
                    <td>Just play the root of each chord</td>
                    <td>Beginners, simple songs</td>
                </tr>
                <tr>
                    <td><strong>Octave Pulse</strong></td>
                    <td>Alternate between root and octave</td>
                    <td>Synthwave, 80s pop</td>
                </tr>
                <tr>
                    <td><strong>Root + Fifth</strong></td>
                    <td>Play root note, then fifth above it</td>
                    <td>Rock, punk, energetic music</td>
                </tr>
                <tr>
                    <td><strong>Walking Bass</strong></td>
                    <td>Move stepwise between chord tones</td>
                    <td>Jazz, funk, sophisticated feel</td>
                </tr>
                <tr>
                    <td><strong>Arpeggiated</strong></td>
                    <td>Play chord tones in sequence</td>
                    <td>EDM, house, driving rhythms</td>
                </tr>
            </table>

            <h3>Mixing Basics</h3>
            <div class="info-box">
                <strong>What is Mixing?</strong><br>
                Mixing is the process of balancing all the elements of your song so they work together
                and sound good. It's like being a chef - you need the right proportions of each ingredient.
                The three main tools are <strong>Volume</strong>, <strong>Panning</strong>, and <strong>EQ</strong>
                (frequency control).
            </div>

            <h4>Volume Balance</h4>
            <p>The key to a good mix is getting the volume relationships right:</p>
            <ul>
                <li><strong>Kick and Snare:</strong> Usually loudest - they're the backbone</li>
                <li><strong>Bass:</strong> Slightly below kick - felt as much as heard</li>
                <li><strong>Lead Melody:</strong> Prominent but not overpowering</li>
                <li><strong>Chords/Pads:</strong> Background support - quieter than lead</li>
                <li><strong>Hi-hats/Percussion:</strong> Add texture without dominating</li>
            </ul>

            <h4>Panning</h4>
            <div class="info-box">
                <strong>What is Panning?</strong><br>
                Panning places sounds in the stereo field - left, right, or center. It creates space
                and width in your mix. Without panning, everything stacks in the center and sounds cluttered.
            </div>
            <table>
                <tr>
                    <th>Element</th>
                    <th>Typical Pan Position</th>
                    <th>Why</th>
                </tr>
                <tr>
                    <td>Kick, Snare, Bass</td>
                    <td>Center (0)</td>
                    <td>Low frequencies should be centered for power</td>
                </tr>
                <tr>
                    <td>Hi-Hats</td>
                    <td>Slightly left or right (20%)</td>
                    <td>Creates width, mimics real drummer</td>
                </tr>
                <tr>
                    <td>Lead Melody</td>
                    <td>Center or slight offset</td>
                    <td>Keeps it prominent and focused</td>
                </tr>
                <tr>
                    <td>Chords/Pads</td>
                    <td>Spread wide (50-80%)</td>
                    <td>Creates stereo width and atmosphere</td>
                </tr>
                <tr>
                    <td>Arpeggios</td>
                    <td>Opposite side from hi-hats</td>
                    <td>Balances the stereo image</td>
                </tr>
            </table>

            <h3>Building Energy and Dynamics</h3>
            <div class="info-box">
                <strong>What are Dynamics?</strong><br>
                Dynamics refers to the changes in energy and intensity throughout a song. A song that
                stays at the same energy level the whole time is boring. Great songs have quiet moments
                and loud moments, tension and release. This contrast is what makes music emotional.
            </div>
            <p><strong>Techniques for Building Energy:</strong></p>
            <ul>
                <li><strong>Add layers gradually:</strong> Start with drums, add bass, then melody, then chords</li>
                <li><strong>Use fills:</strong> Drum fills (snare rolls, tom cascades) signal section changes</li>
                <li><strong>Velocity crescendo:</strong> Gradually increase note velocities toward a climax</li>
                <li><strong>Remove elements:</strong> Sometimes dropping everything except one instrument creates more impact than adding more</li>
                <li><strong>The "build-up":</strong> Use rising pitch, faster hi-hats, snare rolls before a drop</li>
            </ul>

            <h4>The Drop</h4>
            <div class="info-box">
                <strong>What is a Drop?</strong><br>
                In electronic music, a "drop" is the moment when the build-up releases into the main
                groove. It's the most energetic, impactful part of the song. Everything builds up
                (rising synths, faster drums, increasing tension) then suddenly... BOOM - the full
                beat and bass hit at once. This contrast is what makes drops feel so powerful.
            </div>
            <p><strong>How to Create a Drop in ChiptuneTracker:</strong></p>
            <ol>
                <li>Create a "build-up" pattern: rising melody, snare roll (use Fill Generator)</li>
                <li>At the last beat before the drop, remove everything (silence creates anticipation)</li>
                <li>The next pattern should have your biggest kick, fullest bass, catchiest melody</li>
                <li>Use sidechain compression to make the kick punch through</li>
            </ol>

            <h3>Using Effects Creatively</h3>
            <div class="info-box">
                <strong>What are Audio Effects?</strong><br>
                Effects modify the sound after it's generated. They can make sounds bigger, add space,
                create textures, or completely transform a sound. ChiptuneTracker includes several
                effects in the Channel Editor.
            </div>
            <table>
                <tr>
                    <th>Effect</th>
                    <th>What It Does</th>
                    <th>When to Use</th>
                </tr>
                <tr>
                    <td><strong>Delay</strong></td>
                    <td>Creates echoes of the sound</td>
                    <td>Leads, vocals, adding space</td>
                </tr>
                <tr>
                    <td><strong>Filter</strong></td>
                    <td>Removes certain frequencies</td>
                    <td>Sweeps, build-ups, tonal shaping</td>
                </tr>
                <tr>
                    <td><strong>Distortion</strong></td>
                    <td>Adds grit and harmonics</td>
                    <td>Aggressive bass, crunchy leads</td>
                </tr>
                <tr>
                    <td><strong>Bitcrusher</strong></td>
                    <td>Reduces audio quality (in a good way)</td>
                    <td>Retro/lo-fi sounds, drums</td>
                </tr>
                <tr>
                    <td><strong>Sidechain</strong></td>
                    <td>Ducks volume when another sound plays</td>
                    <td>Pumping bass, EDM groove</td>
                </tr>
            </table>

            <h3>Quick Start: Your First Complete Song</h3>
            <p>Here's a step-by-step guide to creating your first complete track:</p>
            <ol>
                <li><strong>Set your BPM</strong> (start with 120 - it's versatile)</li>
                <li><strong>Create a drum pattern</strong>
                    <ul>
                        <li>Use the Drum Pattern Generator with a Synthwave or House preset</li>
                        <li>This gives you a solid foundation to build on</li>
                    </ul>
                </li>
                <li><strong>Add a bass line</strong>
                    <ul>
                        <li>Pick a bass sound (Bass synth or Triangle)</li>
                        <li>Use Bass Pattern Generator with "Octave Pulse"</li>
                        <li>Start with just C notes, 2 per bar</li>
                    </ul>
                </li>
                <li><strong>Write a simple melody</strong>
                    <ul>
                        <li>Enable Scale Lock (C Minor is great for beginners)</li>
                        <li>Choose a Lead or Arp synth</li>
                        <li>Write 4-8 notes that sound good to you</li>
                    </ul>
                </li>
                <li><strong>Add chords</strong>
                    <ul>
                        <li>Open the Chords section in Tools</li>
                        <li>Try the Am  F  C  G progression (very common!)</li>
                        <li>Use a Pad synth for smooth sustained chords</li>
                    </ul>
                </li>
                <li><strong>Create variations</strong>
                    <ul>
                        <li>Duplicate your pattern</li>
                        <li>Make small changes (add/remove notes, change velocities)</li>
                        <li>Create patterns for Intro (less elements) and Chorus (full energy)</li>
                    </ul>
                </li>
                <li><strong>Arrange your song</strong>
                    <ul>
                        <li>Use the Arrangement view to order your patterns</li>
                        <li>Follow the Intro  Verse  Chorus  Verse  Chorus  Outro structure</li>
                    </ul>
                </li>
                <li><strong>Mix and polish</strong>
                    <ul>
                        <li>Balance volumes in the Mixer</li>
                        <li>Add panning for width</li>
                        <li>Use Humanize on drums for natural feel</li>
                    </ul>
                </li>
                <li><strong>Export!</strong>
                    <ul>
                        <li>File  Export WAV (or MP3 if you have LAME/FFmpeg)</li>
                        <li>Share your creation!</li>
                    </ul>
                </li>
            </ol>

            <div class="tip-box">
                <strong>Remember:</strong> Your first songs won't be perfect - and that's okay!
                Every professional producer started exactly where you are now. The key is to finish
                songs, learn from each one, and keep making more. Have fun!
            </div>
        </section>

        <footer>
            <p>CHIPTUNE TRACKER v2.9.0</p>
            <p>Built with C++20, ImGui, OpenGL, and miniaudio</p>
            <p>7 Oscillators | 18 Synths | 45 Chord Presets | 26 Drums | 8 Themes | 7 Sample Track Genres</p>
            <p>9 Production Tools | Scale Lock | Arpeggiator | Pattern Generator | Velocity Curve | Humanize</p>
            <p style="color: var(--neon-pink); margin-top: 20px;">[ SYSTEM ONLINE - MAKE SOME NOISE ]</p>
        </footer>
    </div>

    <script>
        // Matrix Rain Effect
        const matrixCanvas = document.getElementById('matrix-canvas');
        const matrixCtx = matrixCanvas.getContext('2d');

        function resizeMatrix() {
            matrixCanvas.width = window.innerWidth;
            matrixCanvas.height = window.innerHeight;
        }
        resizeMatrix();
        window.addEventListener('resize', resizeMatrix);

        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()';
        const fontSize = 14;
        let columns = Math.floor(matrixCanvas.width / fontSize);
        let drops = Array(columns).fill(1);

        function drawMatrix() {
            matrixCtx.fillStyle = 'rgba(10, 10, 10, 0.05)';
            matrixCtx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);
            matrixCtx.fillStyle = '#00ff41';
            matrixCtx.font = fontSize + 'px monospace';

            for (let i = 0; i < drops.length; i++) {
                const char = chars[Math.floor(Math.random() * chars.length)];
                matrixCtx.fillText(char, i * fontSize, drops[i] * fontSize);
                if (drops[i] * fontSize > matrixCanvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
        }
        setInterval(drawMatrix, 50);

        // Sine Wave Animation
        const sineCanvas = document.getElementById('sine-canvas');
        const sineCtx = sineCanvas.getContext('2d');

        function resizeSine() {
            sineCanvas.width = window.innerWidth;
            sineCanvas.height = 200;
        }
        resizeSine();
        window.addEventListener('resize', resizeSine);

        let sineOffset = 0;
        function drawSineWaves() {
            sineCtx.clearRect(0, 0, sineCanvas.width, sineCanvas.height);
            const waves = [
                { amplitude: 30, frequency: 0.02, speed: 0.05, color: 'rgba(0, 255, 255, 0.5)' },
                { amplitude: 20, frequency: 0.03, speed: 0.03, color: 'rgba(255, 0, 255, 0.5)' },
                { amplitude: 40, frequency: 0.015, speed: 0.07, color: 'rgba(0, 255, 65, 0.3)' }
            ];

            waves.forEach((wave, index) => {
                sineCtx.beginPath();
                sineCtx.strokeStyle = wave.color;
                sineCtx.lineWidth = 2;
                for (let x = 0; x < sineCanvas.width; x++) {
                    const y = sineCanvas.height / 2 + Math.sin((x * wave.frequency) + (sineOffset * wave.speed) + index) * wave.amplitude;
                    if (x === 0) sineCtx.moveTo(x, y);
                    else sineCtx.lineTo(x, y);
                }
                sineCtx.stroke();
            });
            sineOffset++;
            requestAnimationFrame(drawSineWaves);
        }
        drawSineWaves();

        // ADSR Diagram
        const adsrCanvas = document.getElementById('adsr-canvas');
        if (adsrCanvas) {
            const ctx = adsrCanvas.getContext('2d');
            adsrCanvas.width = 600;
            adsrCanvas.height = 200;

            // Draw ADSR envelope
            ctx.strokeStyle = '#00ffff';
            ctx.lineWidth = 3;
            ctx.beginPath();

            // Starting point
            ctx.moveTo(50, 180);

            // Attack (0 to peak)
            ctx.lineTo(120, 30);

            // Decay (peak to sustain)
            ctx.lineTo(200, 80);

            // Sustain (hold)
            ctx.lineTo(380, 80);

            // Release (sustain to 0)
            ctx.lineTo(500, 180);

            ctx.stroke();

            // Labels
            ctx.fillStyle = '#ff6b6b';
            ctx.font = '14px Orbitron';
            ctx.fillText('Attack', 60, 195);

            ctx.fillStyle = '#ffd93d';
            ctx.fillText('Decay', 140, 195);

            ctx.fillStyle = '#6bcb77';
            ctx.fillText('Sustain', 260, 195);

            ctx.fillStyle = '#4d96ff';
            ctx.fillText('Release', 420, 195);

            // Dotted lines
            ctx.setLineDash([5, 5]);
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;

            // Peak line
            ctx.beginPath();
            ctx.moveTo(50, 30);
            ctx.lineTo(550, 30);
            ctx.stroke();

            // Sustain line
            ctx.beginPath();
            ctx.moveTo(50, 80);
            ctx.lineTo(550, 80);
            ctx.stroke();

            // Zero line
            ctx.beginPath();
            ctx.moveTo(50, 180);
            ctx.lineTo(550, 180);
            ctx.stroke();

            ctx.setLineDash([]);

            // Y-axis labels
            ctx.fillStyle = '#666';
            ctx.font = '12px Share Tech Mono';
            ctx.fillText('Peak', 10, 35);
            ctx.fillText('Sustain', 10, 85);
            ctx.fillText('Zero', 10, 185);
        }

        // Waveform Icons
        function drawWaveformIcons() {
            const canvases = {
                'wave-pulse': (ctx, w, h) => {
                    ctx.beginPath();
                    ctx.moveTo(10, h*0.7);
                    ctx.lineTo(10, h*0.3);
                    ctx.lineTo(w*0.35, h*0.3);
                    ctx.lineTo(w*0.35, h*0.7);
                    ctx.lineTo(w*0.6, h*0.7);
                    ctx.lineTo(w*0.6, h*0.3);
                    ctx.lineTo(w*0.85, h*0.3);
                    ctx.lineTo(w*0.85, h*0.7);
                    ctx.lineTo(w-10, h*0.7);
                    ctx.stroke();
                },
                'wave-triangle': (ctx, w, h) => {
                    ctx.beginPath();
                    ctx.moveTo(10, h/2);
                    ctx.lineTo(w*0.25, h*0.2);
                    ctx.lineTo(w*0.5, h*0.8);
                    ctx.lineTo(w*0.75, h*0.2);
                    ctx.lineTo(w-10, h/2);
                    ctx.stroke();
                },
                'wave-sawtooth': (ctx, w, h) => {
                    ctx.beginPath();
                    ctx.moveTo(10, h*0.7);
                    ctx.lineTo(w*0.35, h*0.3);
                    ctx.lineTo(w*0.35, h*0.7);
                    ctx.lineTo(w*0.7, h*0.3);
                    ctx.lineTo(w*0.7, h*0.7);
                    ctx.lineTo(w-10, h*0.3);
                    ctx.stroke();
                },
                'wave-sine': (ctx, w, h) => {
                    ctx.beginPath();
                    for (let x = 0; x < w; x++) {
                        const y = h/2 + Math.sin((x/w) * Math.PI * 4) * (h*0.3);
                        if (x === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    ctx.stroke();
                },
                'wave-noise': (ctx, w, h) => {
                    ctx.beginPath();
                    ctx.moveTo(10, h/2);
                    for (let x = 10; x < w-10; x += 4) {
                        ctx.lineTo(x, h*0.3 + Math.random() * h*0.4);
                    }
                    ctx.stroke();
                },
                'wave-supersaw': (ctx, w, h) => {
                    // Draw multiple detuned saws
                    const offsets = [0, -0.1, 0.1, -0.05, 0.05];
                    offsets.forEach((offset, i) => {
                        ctx.globalAlpha = i === 0 ? 1 : 0.4;
                        ctx.beginPath();
                        const yOff = offset * h * 0.5;
                        ctx.moveTo(10, h*0.7 + yOff);
                        ctx.lineTo(w*0.3, h*0.3 + yOff);
                        ctx.lineTo(w*0.3, h*0.7 + yOff);
                        ctx.lineTo(w*0.6, h*0.3 + yOff);
                        ctx.lineTo(w*0.6, h*0.7 + yOff);
                        ctx.lineTo(w-10, h*0.3 + yOff);
                        ctx.stroke();
                    });
                    ctx.globalAlpha = 1;
                },
                'wave-custom': (ctx, w, h) => {
                    ctx.beginPath();
                    ctx.moveTo(10, h/2);
                    ctx.lineTo(w*0.2, h*0.3);
                    ctx.lineTo(w*0.4, h*0.6);
                    ctx.lineTo(w*0.6, h*0.25);
                    ctx.lineTo(w*0.8, h*0.7);
                    ctx.lineTo(w-10, h/2);
                    ctx.stroke();
                }
            };

            Object.keys(canvases).forEach(id => {
                const canvas = document.getElementById(id);
                if (canvas) {
                    const ctx = canvas.getContext('2d');
                    canvas.width = 200;
                    canvas.height = 80;
                    ctx.strokeStyle = '#00ffff';
                    ctx.lineWidth = 2;
                    canvases[id](ctx, canvas.width, canvas.height);
                }
            });
        }

        window.addEventListener('load', drawWaveformIcons);

        // Smooth scrolling
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                target.scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>